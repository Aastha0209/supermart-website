(function(n){var l=window.AmazonUIPageJS||window.P,r=l._namespace||l.attributeErrors,e=r?r("DetailPageSnSAssets@dpxAssets",""):l;e.guardFatal?e.guardFatal(n)(e,window):e.execute(function(){n(e,window)})})(function(n,l,r){n.when("sns-join-prime-endpoint","sns-subscribe-constants").register("sns-buybox-constants",function(e,b){return{SNS_QUANTITY_FIELD:"#mobileQuantityDropDown, #tabletQuantityDropDown",SNS_FREQUENCY_NAME:"rcxOrdFreq",SNS_OPT_IN_NAME:"snsOptIn",QUANTITY_CONTAINER:"#selectQuantity, #mobileQuantitySelection, #sns",
QUANTITY:"[name\x3dquantity]",SNS_QUANTITY:"[name\x3drcxsubsQuan]",SNS_FREQUENCY_DROPDOWN:"[name\x3drcxOrdFreqSns]",ONML_FREQUENCY_DROPDOWN:"[name\x3drcxOrdFreqOnml]",SNS_SELECTED_FREQUENCY:"#rcxOrdFreqSns",ONML_SELECTED_FREQUENCY:"#rcxOrdFreqOnml",SNS_MOBILE_QUANTITY:".snsQuantityRadio input[name\x3d'quantity']:checked",SNS_FREQUENCY_FORM_FIELD:"[name\x3drcxOrdFreq]",SNS_FREQUENCY_FORM_FIELD_MOBILE:".rcxOrdFreq",SNS_ONMLV2_FREQUENCY_TRIGGER_DROPDOWN:"a:dropdown:rcxOrdFreq:select",SNS_ONMLV2_FREQUENCY_TRIGGER_RADIO_BUTTON:".snsOrdFreqRadio",
SNS_ONMLV2_QUANTITY_TRIGGER_DROPDOWN:"a:dropdown:rcxsubsQuan:select",SNS_ONMLV2_QUANTITY_TRIGGER_RADIO_BUTTON:".snsQuantityRadio",SNS_ONMLV2_FREQUENCY_FORM_FIELD:"#onmlv2FormFields [name\x3d'rcxOrdFreq']",SNS_SUBSCRIBE_BUTTON_FREQUENCY_FORM_FIELD:"#subscribeButtonFormFields [name\x3d'rcxOrdFreq']",SNS_ONMLV2_QUANTITY_FORM_FIELD:"#onmlv2FormFields [name\x3d'quantity']",SNS_SUBSCRIBE_BUTTON_QUANTITY_FORM_FIELD:"#subscribeButtonFormFields [name\x3d'quantity']",SNS_ONMLV2_DELIVERY_OPTION_FORM_FIELD:'#onmlv2FormFields [name\x3d"snsDeliveryOption"]',
SNS_SUBSCRIBE_BUTTON_DELIVERY_OPTION_FORM_FIELD:'#subscribeButtonFormFields [name\x3d"snsDeliveryOption"]',SNS_ONMLV2_QUANTITY_TRIGGER_DESKTOP:"#rcxsubsQuan",SNS_ONMLV2_QUANTITY_TRIGGER_MOBILE:".snsQuantityRadio",SNS_DP_FREQUENCY_TRIGGER:"#sns-dp-frequency-trigger span",SNS_OPT_IN_CHECKBOX:"#snsOptInCheckbox",SNS_OFFER_LISTING_FIELD:"#snsOfferListingID",OFFER_LISTING_FIELD:"[name\x3dofferListingID]",SNS_FREQUENCY_SECTION:"#snsFrequencySection",SNS_SELECTED_FREQUENCY_LABEL:"#snsSelectedFrequencyLabel",
SNS_FIRST_RECURRING_DELIVERY_DATE:"[id\x3dsnsFirstRecurringDeliveryDate]",SNS_BUY_USED_BUTTON:"#usedBuySection, #usedAccordionRow .a-accordion-row-a11y",ONE_CLICK_BUTTON:".onml-one-click-button",ONE_CLICK_BUTTON_ICON:".onml-one-click-button i",ONE_CLICK_BUTTON_TEXT:".onml-one-click-button input+span",BUY_NOW_BUTTON:".onml-buy-now-button",BUY_NOW_BUTTON_ICON:".onml-buy-now-button i",BUY_NOW_BUTTON_TEXT:".onml-buy-now-button input+span",ADD_TO_CART_BUTTON:"#add-to-cart-button",ADD_TO_CART_DIV:"#addToCart",
DSK_BB:"#sns",DSK_BB_DPV1:"#snsBuyBox",MOBILE_ADD_TO_CART_DIV:"#sns",MOBILE_SNS_BUYBOX:"#snsBuyBox",TABLET_ADD_TO_CART_DIV:"#snsTablet",SNS_OPT_IN_FORM_FIELD:"[name\x3dsnsOptIn]",LEGACY_SPC_FORM_INPUT:"[name\x3d'submit.rcx-subscribe']",LEGACY_SPC_FORM_INPUT_X:"[name\x3d'submit.rcx-subscribe.x']",SNS_OFFER_FORM_FIELD:".snsONMLOffer",SNS_DISCOUNT_PILL:"#snsDiscountPill",SNS_ONML_BUYBOX_UPSELL_MESSAGE_NON_TIERED:"#sns-onml-buybox-upsell-message-non-tiered",SNS_ONML_BUYBOX_UPSELL_MESSAGE_TIERED:"#sns-onml-buybox-upsell-message-tiered",
SNS_ONML_FRDD:".sns-onml-frdd",SNS_ONMLV2_FRDD:".sns-onmlv2-frdd",SNS_FREQ_BOTTOMSHEET_SELECTOR:"[id\x3dsnsFrequencyBottomSheet]",SNS_OPT_IN_FEATURE_DIV:"#snsOptIn_div",SNS_OPT_IN_INPUT_ID:"[name\x3dsnsOptIn]",SNS_ONML_INIT_INPUT_ID:"isOnmlInitialized",SNS_ONML_INIT_INPUT_SELECTOR:"#isOnmlInitialized",SNS_DATA_UPDATE_EVENT:"sns-declarative-data-update",SNS_ONML_MERCHANT_INFO:"#snsOnmlMerchantInfo",SNS_DISCOUNT_PILL_POPOVER_TIERED:".snsDiscountPillPopoverTiered",SNS_DISCOUNT_PILL_POPOVER_NON_TIERED:".snsDiscountPillPopoverNonTiered",
SNS_BUY_NEW_PRICE:"#onml_snsBuyNew",CBB_BUY_NEW_PRICE:"#buyNew_cbb",NON_CBB_BUY_NEW_PRICE:"#buyNew_noncbb",SNS_PRICE_IN_BUY_USED_SECTION:"#usedBuySection #onml_snsBuyNew",CBB_SNS_BUY_NEW_PRICE:"#onml_snsBuyNew_cbb",SNS_CBB_ACCORDION_ROW:"#snsAccordionRow, #snsAccordionRowMobile, #snsAccordionRowMobileApp, #snsAccordionRowMovedUp, #snsAccordionRowMobileMovedUp, #snsAccordionRowMobileAppMovedUp, #snsAccordionRowMiddle, #snsAccordionRowMobileMiddle, #snsAccordionRowMobileAppMiddle",SNS_ONMLV2_FORM_FIELDS:"#onmlv2FormFields",
SUBSCRIBE_BUTTON_FORM_FIELDS:"#subscribeButtonFormFields",SNS_ACCORDION_HEADER_RADIO_BUTTON:'#snsAccordionRow [role\x3d"radio"], #snsAccordionRowMobile [role\x3d"radio"], #snsAccordionRowMobileApp [role\x3d"radio"], #snsAccordionRowMovedUp [role\x3d"radio"], #snsAccordionRowMobileMovedUp [role\x3d"radio"], #snsAccordionRowMobileAppMovedUp [role\x3d"radio"], #snsAccordionRowMiddle [role\x3d"radio"], #snsAccordionRowMobileMiddle [role\x3d"radio"], #snsAccordionRowMobileAppMiddle [role\x3d"radio"]',
SNS_CBB_PRIME_SHIPPING:"#sns-cbb-prime-shipping-header, #sns-cbb-prime-shipping-row",DPV2_BUY_NEW_PRICE:"#buyNew_dpv2",SUBSCRIBE_ONLY_LINK:"#subscribe-only",SUBSCRIBE_ONLY_FORM:"#sns-onml-subscribe-only",JUST_SUBSCRIBE_DIV:"#just-subscribe-button-container",GOLDBOX_DISCOUNT_MESSAGE:"#onml-goldbox-discount-message",SUBSCRIBE_ONLY_FORM_ATTRIBUTES:{name:"sns-onml-subscribe-only",id:"sns-onml-subscribe-only",method:"POST",action:"/gp/product/handle-buy-box/ref\x3donml_so_l"},SUBSCRIBE_ADD_TO_CART_FORM_ATTRIBUTES:b.SUBSCRIBE_FORM_ATTRIBUTES,
JUST_SUBSCRIBE_FORM_ATTRIBUTES:{name:"sns-onmlv2-just-subscribe",id:"sns-onmlv2-just-subscribe",method:"POST",action:"/gp/subscribe-and-save/pipeline/subscribe.html"},BUY_NOW_FORM_ATTRIBUTES:{name:"sns-onmlv2-buy-now",id:"sns-onmlv2-buy-now",method:"POST",action:""},SNS_LEGACY_SUBSCRIBE_FORM_ATTRIBUTES:{name:"sns-legacy-subscribe",id:"sns-legacy-subscribe",method:"POST",action:"/gp/product/handle-buy-box"},SNS_JOIN_PRIME_FORM_ATTRIBUTES:{name:"sns-join-prime",id:"sns-join-prime",method:"POST",action:""},
SNS_JOIN_PRIME_FORM_ATTRIBUTES_VMF:{name:"sns-join-prime-vmf",id:"sns-join-prime-vmf",method:"POST",action:e.endpoint},SUBSCRIBE_FORM_ATTRIBUTES:b.SUBSCRIBE_ADD_TO_CART_FORM_ATTRIBUTES,SNS_ATC_DECLARATIVE:"#addToCart_feature_div #atc-declarative",SNS_SUBMIT_SECTION_ID:"#snsSubmitSection",SNS_SWITCH_SUBMIT_SECTION_ID:"#snsSwitchSubmitSection",SNS_BUY_NOW_BUTTON:"#snsBuyNowSubmit",SNS_SUBSCRIBE_ONLY_BUTTON:"#snsSubscribeOnlySubmit",SNS_DECLARATIVE_ACTION:"#sns-submit-declarative",SNS_SUBSCRIBE_ONLY_ACTION:"sns-subscribe-only",
SNS_BUY_BOX_PARAMS:"sns-buybox-message-params",SNS_BUY_BOX_PARAM_MAP:"buyboxMessageParamsMap",SNS_SELECT_DELIVERY_URL:"/gp/subscribe-and-save/dp/delivery.html/ref\x3drcxsubs_sns_delivery_url?app-nav-type\x3dmodal",SNS_SELECT_DELIVERY_OPTION_ID:"#snsDeliveryOption",SNS_DELIVERY_OPTION_SNS:"sns",SNS_DELIVERY_OPTION_ONML:"onml",SNS_BASE_PRICE:"#sns-base-price",SNS_TIERED_PRICE:"#sns-tiered-price",SNS_DELIVERY_OPTION_DIV:"#snsDeliveryOpt",ONML_DELIVERY_OPTION_DIV:"#onmlDeliveryOpt",SNS_MOD_ACCORDION_HEADER_FEATURES:"#sns-cbb-prime-shipping-header-wrapper, #accordion-header-delivery-link",
SNS_SUBSCRIPTION_PRICE:"#subscriptionPrice",SNS_DELIVERY_OPTION_SNS_LINK:"#sns-delivery-link",SNS_DELIVERY_OPTION_SNS_LINK_TEXT_IDENTIFIER:"#snsDeliveryChangeLinkText",ACCORDION_HEADER_DELIVERY_OPTION_SNS_LINK:"#accordion-header-sns-delivery-link",SNS_DELIVERY_OPTION_ONML_LINK:"#onml-delivery-link",SNS_DELIVERY_OPTION_ONML_LINK_TEXT_IDENTIFIER:"#onmlDeliveryChangeLinkText",ACCORDION_HEADER_DELIVERY_OPTION_ONML_LINK:"#accordion-header-onml-delivery-link",SNS_DELIVERY_BOTTOM_SHEET:"#snsDeliveryDateBottomSheet",
SNS_DELIVERY_BOTTOM_SHEET_SPINNER:"#snsDeliveryDateBottomSheetSpinner",SNS_DELIVERY_BOTTOM_SHEET_CONTENT:"#snsDeliveryDateBottomSheetContent",SNS_SUBSCRIBE_SUBMIT_BUTTON:"#rcx-subscribe-submit-button",SNS_DELIVERY_UPSELL:"#sns-delivery-buybox-upsell-message",SNS_DELIVERY_NEW_OR_UNRECOGNIZED_UPSELL:"#sns-delivery-buybox-upsell-message-new-or-unrecognized",SNS_DELIVERY_NON_TIERED_UPSELL:"#sns-delivery-buybox-upsell-message-non-tiered",SNS_DELIVERY_TIERED_UPSELL:"#sns-delivery-buybox-upsell-message-tiered",
ONML_DELIVERY_UPSELL:"#onml-delivery-buybox-upsell-message",ONML_DELIVERY_NEW_OR_UNRECOGNIZED_UPSELL:"#onml-delivery-buybox-upsell-message-new-or-unrecognized-sns-customer",ONML_DELIVERY_NON_TIERED_UPSELL:"#onml-delivery-buybox-upsell-message-non-tiered",ONML_DELIVERY_TIERED_UPSELL:"#onml-delivery-buybox-upsell-message-tiered",SNS_ADD_TO_CART_FORM:"#sns-onmlv2-add-to-cart",SNS_SUBSCRIBE_FORM:"#sns-onmlv2-subscribe",JUST_SUBSCRIBE_FORM:"#sns-onmlv2-just-subscribe",BUY_NOW_FORM:"#sns-onmlv2-buy-now",
SNS_LEGACY_SUBSCRIBE_FORM:"#sns-legacy-subscribe",SNS_JOIN_PRIME_FORM:"#sns-join-prime",SNS_DELIVERY_PILL:"#sns-delivery-pill",SNS_DELIVERY_NEW_OR_UNRECOGNIZED_PILL:"#sns-delivery-new-or-unrecognized-sns-customer-pill",SNS_DELIVERY_NON_TIERED_PILL:"#sns-delivery-non-tiered-pill",SNS_DELIVERY_TIERED_PILL:"#sns-delivery-tiered-pill",ONML_DELIVERY_PILL:"#onml-delivery-pill",ONML_DELIVERY_NEW_OR_UNRECOGNIZED_PILL:"#onml-delivery-new-or-unrecognized-sns-customer-pill",ONML_DELIVERY_NON_TIERED_PILL:"#onml-delivery-non-tiered-pill",
ONML_DELIVERY_TIERED_PILL:"#onml-delivery-tiered-pill",SNS_TOGGLE_BUY_BOX:"[name\x3dtoggleBuyBox]",SNS_ONMLV2_JOIN_PRIME_UPSELL:"#momAEmsg",SNS_ONMLV2_JOIN_PRIME_CHECKBOX:"#chkMom",SNS_ONMLV2_JOIN_PRIME_BUTTON:"#mom-join-button",SNS_DELIVERY_BOTTOMSHEET_IN_BUYBOX:"#snsDeliveryDateBottomSheet",SNS_SWITCH_WIDGET_ONML_URL:"/auto-deliveries/switchWidgetMobile?",SNS_SWITCH_WIDGET_LEGACY_URL:"/auto-deliveries/switchWidgetLegacy?",SNS_SWITCH_WIDGET_LEGACY_CONTINUE_URL:"/gp/subscribe-and-save/pipeline/subscribe.html?",
SNS_SWITCH_WIDGET_ONML_DESKTOP_URL:"/auto-deliveries/ajax/switchWidgetAjax?",SNS_SWITCH_WIDGET_LEGACY_DESKTOP_URL:"/auto-deliveries/ajax/switchWidgetAjaxLegacy?",SNS_SWITCH_WIDGET_PARAMS:"sns-switch-message-params",SNS_SWITCH_WIDGET_PARAM_MAP:"switchMessageParamsMap",DISCOUNT_TYPE_ZERO_BASE:"ZERO_BASE",DISCOUNT_TYPE_ZERO_STATIC:"ZERO_STATIC",GET_MYD_RECOMMENDATIONS_URL:"/auto-deliveries/ajax/viewRecommendationsAjax",SOURCE_PAGE:"dp",VIEW_CART_URL:"/gp/cart/view.html",GO_TO_CHECKOUT_URL:"/gp/cart/desktop/go-to-checkout.html?proceedToCheckout\x3d1",
SNS_HUC_GET_TREATMENT_FORM_ID:"sns-get-huc-treatment",SNS_ONML_MONTH:"M|onml",SUBSCRIBE_FORM_FIELDS:b.FORM_FIELDS,SNS_ONML_SELECTED_FREQUENCY_TEXT:'select[name\x3d"rcxOrdFreqOnml"] option:selected',SNS_ONML_NEXT_RECURRING_DELIVERY_DATE_TEXT:".sns-onmlv2-frdd:first",SNS_BASE_DISCOUNT_MESSAGE:".sns-base-discount-message",SNS_TIERED_DISCOUNT_MESSAGE:".sns-tiered-discount-message",SNS_SUBSCRIBER_DISCOUNT_MESSAGE_STATE_ID:"sns-subscriber-discount-message-data",SUBSCRIBER_DISCOUNT_MESSAGE_EXPERIMENT_ID:"CONSUMABLES_DP_SNS_APEX_SUBSCRIBER_DISCOUNT_MESSAGE_921625"}});
n.when("A","sns-utils","sns-constants","sns-buybox-constants","sns-messaging-utils","sns-atc-utils").register("sns-frequency-bottom-sheet",function(e,b,a,d,c,g){return{init:function(){function f(){var a=k(d.SNS_FREQUENCY_FORM_FIELD).val();k(d.SNS_FREQ_BOTTOMSHEET_SELECTOR).find("button[value\x3d"+a+"]").click()}var k=e.$;b.isMobileDevice()&&(b.registerCallbackForNameSpace(a.EVENT_NAMESPACE.FREQUENCY_HIDDEN_INPUT_CHANGE,f),b.registerCallbackForNameSpace(a.EVENT_NAMESPACE.PAGE_UPDATE,f),e.declarative("sns-frequency-selected",
"click",function(h){var f=k(d.SNS_FREQUENCY_FORM_FIELD);h=h.$target;var m=h.val(),q={};q[d.SNS_FREQUENCY_NAME]=m;g.setOnmlDeclaratives(q);f.val(m);l.setTimeout(function(){e.trigger(d.SNS_DATA_UPDATE_EVENT)},0);k(d.SNS_FIRST_RECURRING_DELIVERY_DATE).html(h.data("frdd-label"));k(d.SNS_SELECTED_FREQUENCY_LABEL).html(h.data("freq-button-label"));c.updateMessages(m);b.setOnmlUserPref(a.USER_PREFS_KEYS.SNS_FREQUENCY,m)}))}}});n.when("A","sns-constants","sns-utils","sns-buybox-constants","sns-messaging-utils",
"sns-atc-utils").register("sns-frequency-popover",function(e,b,a,d,c,g){return{init:function(){function f(){var a=k(d.SNS_FREQUENCY_FORM_FIELD).val();k("[data-a-accordion-row-name\x3dfrequencyAccordionRow"+(a-1)+"] a").click()}var k=e.$;a.isMobileDevice()||(a.registerCallbackForNameSpace(b.EVENT_NAMESPACE.FREQUENCY_HIDDEN_INPUT_CHANGE,f),e.on("a:accordion:sns-dp-frequency-accordion:select",function(h){var f=k(d.SNS_FREQUENCY_FORM_FIELD),m=k(d.SNS_DP_FREQUENCY_TRIGGER),q=k(h.selectedRow.$row[0]);h=
q.data().frequencyLabel;var q=q.data().frequencyValue,t={};t[d.SNS_FREQUENCY_NAME]=q;g.setOnmlDeclaratives(t);f.val(q);l.setTimeout(function(){e.trigger(d.SNS_DATA_UPDATE_EVENT)},0);m.text(h);c.updateMessages(q);a.setOnmlUserPref(b.USER_PREFS_KEYS.SNS_FREQUENCY,q)}))}}});n.when("A","sns-utils","sns-constants","sns-buybox-utils","sns-buybox-constants","sns-atc-utils").register("sns-opt-in-checkbox",function(e,b,a,d,c,g){return{init:function(){function f(h){var f=e.$(c.SNS_OPT_IN_CHECKBOX).is(":checked");
h=e.$(c.SNS_OPT_IN_FORM_FIELD);f&&(b.isMobileApp()||b.isTabletApp())&&g.getAddToCartStrings();var k={};k[c.SNS_OPT_IN_NAME]=f;g.setOnmlDeclaratives(k);h.val(f);l.setTimeout(function(){e.trigger(c.SNS_DATA_UPDATE_EVENT)},0);l.setTimeout(function(){d.updateAddToCartButtonLabel(f);d.updateOneClickButtonLabel(f);d.updateBuyNowButtonLabel(f)},0);d.showSnSMerchantInfoIfSnSOptInChecked(f);d.showGoldBoxDiscountMessageIfSnSOptInChecked(f);d.showSubscribeOnlyButtonIfSnSOptInChecked(f);b.setOnmlUserPref(a.USER_PREFS_KEYS.SNS_OPT_IN,
f)}function k(){var a=function(){var a=e.$("#buybox").find(".a-declarative").has("#add-to-cart-button");if(1===a.length)return a;a=e.$("#atc-declarative");return 1===a.length?a:null}();a&&a.click(function(){var f=g.getAddToCartData();if(f.inputs[c.SNS_OPT_IN_NAME]!==r){var d=b.getAStateFromDom(c.SNS_OPT_IN_FEATURE_DIV,"sns-add-to-cart-params","addToCartParams"),k=e.$(c.SNS_OPT_IN_CHECKBOX).is(":checked"),t={},t=d||{};t[c.SNS_OPT_IN_NAME]=k;var l=a.data("awMash");Object.keys(t).forEach(function(a){l.inputs[a]!==
f.inputs[a]&&(l.inputs[a]=f.inputs[a])})}})}b.isSnSEligible()&&f({snsOnLoad:!0});e.declarative("sns-opt-in-checked","change",f);b.registerCallbackForNameSpace(a.EVENT_NAMESPACE.PAGE_UPDATE,f);b.registerCallbackForNameSpace(a.EVENT_NAMESPACE.PAGE_UPDATE,b.enableSnSOptIn);b.isMobileApp()&&(b.registerCallbackForNameSpace(a.EVENT_NAMESPACE.PAGE_UPDATE,k),k());b.enableSnSOptIn()}}});n.when("A","sns-constants","sns-buybox-constants","sns-utils").register("sns-messaging-utils",function(e,b,a,d){var c=function(b,
c){var d=b.firstRecurringDeliveryDates[c-1];e.$(a.SNS_ONML_FRDD).each(function(){e.$(this).html(d)})};return{updateMessages:function(g){var f=d.getAStateFromDom(a.SNS_OPT_IN_FEATURE_DIV,"sns-buybox-message-params","buyboxMessageParamsMap");if(f){var k=e.$(a.SNS_ONML_BUYBOX_UPSELL_MESSAGE_NON_TIERED),h=e.$(a.SNS_ONML_BUYBOX_UPSELL_MESSAGE_TIERED),p=e.$(a.SNS_DISCOUNT_PILL_POPOVER_TIERED),m=e.$(a.SNS_DISCOUNT_PILL_POPOVER_NON_TIERED);f.tieredStatusOnRecurringDeliveryDates[g-1]===b.TIERED?(k.addClass("aok-hidden"),
h.removeClass("aok-hidden"),m.addClass("aok-hidden"),p.removeClass("aok-hidden")):(k.removeClass("aok-hidden"),h.addClass("aok-hidden"),m.removeClass("aok-hidden"),p.addClass("aok-hidden"));k=f.discountType;h=e.$(a.SNS_DISCOUNT_PILL);f.tieredStatusOnRecurringDeliveryDates[g-1]===b.TIERED?(h.attr("data-tiered-level",b.PREMIUM),k===b.ZERO_BASE&&h.removeClass("aok-hidden")):(h.attr("data-tiered-level",b.BASE),k===b.ZERO_BASE&&h.addClass("aok-hidden"));c(f,g)}}}});n.when("A","sns-buybox-constants","sns-onmlv2-utils",
"sns-moq-helper").register("sns-buy-now",function(e,b,a,d){var c=e.$;e.declarative("sns-buy-now","click",function(g){if(!d.isSnsLocked()&&!d.isSnsLocked()){g=c("\x3cform\x3e",{method:b.BUY_NOW_FORM_ATTRIBUTES.method,action:"/gp/subscribe-and-save/buynow/buy-now.html?ref\x3ddp_sns_bb_bn",id:b.BUY_NOW_FORM_ATTRIBUTES.id,name:b.BUY_NOW_FORM_ATTRIBUTES.name});var f="";if(a.isCbbTemplateEnabled())for(var k=[{name:"ASIN"},{name:"offerListingID",fieldName:"snsOfferListingID"},{name:"snsAddressId"},{name:"snsOnmlOfferId"},
{name:"snsMostCommonFrequency"},{name:"rcxOrdFreq"},{name:"quantity"}],h=0;h<k.length;h++)var e=k[h].name,m=k[h].fieldName?k[h].fieldName:e,m=a.getOnmlv2FormValueByName(m),f=f+a.createHiddenInput(e,m);else{a.removeFormFieldsIntroducedByCbb();k=[{name:"ASIN"},{name:"offerListingID",fieldName:"snsOfferListingID"},{name:"rcxOrdFreq"},{name:"snsOnmlOfferId"},{name:"snsMostCommonFrequency"},{name:"snsAddressId"}];for(h=0;h<k.length;h++)e=k[h].name,m=k[h].fieldName?k[h].fieldName:e,m=a.isMobileDevice()?
c(b.MOBILE_ADD_TO_CART_DIV+" [name\x3d"+m+"]").val():a.isWeb()?c(b.ADD_TO_CART_DIV+" [name\x3d"+m+"]").val():c(b.TABLET_ADD_TO_CART_DIV+" [name\x3d"+m+"]").val(),f+=a.createHiddenInput(e,m);k=a.isMobileDevice()?c(b.SNS_MOBILE_QUANTITY):c(b.QUANTITY_CONTAINER).find(b.SNS_QUANTITY);f+=a.createHiddenInput("quantity",k.val())}f+=a.createHiddenInput("submit.buy-now","1");g.html(f);c("body").append(g);c(b.BUY_NOW_FORM).submit();c(b.BUY_NOW_FORM).remove()}})});n.when("sns-join-prime-endpoint").register("sns-subscribe-constants",
function(e){return{SUBSCRIBE_ADD_TO_CART_FORM_ATTRIBUTES:{name:"sns-onmlv2-add-to-cart",id:"sns-onmlv2-add-to-cart",method:"GET",action:"/auto-deliveries/checkout/subscribe"},SUBSCRIBE_FORM_ATTRIBUTES:{name:"sns-onmlv2-subscribe",id:"sns-onmlv2-subscribe",method:"GET",action:"/auto-deliveries/checkout/subscribe"},FORM_FIELDS:[{name:"snsAsin"},{name:"rcxOrdFreqOnml"},{name:"rcxOrdFreqSns"},{name:"offerListingID",fieldName:"snsOfferListingId"},{name:"isTangoCheckoutEligible"}]}});n.when("A","sns-buybox-constants",
"sns-onmlv2-utils","sns-moq-helper").register("sns-subscribe-only",function(e,b,a,d){var c=e.$;e.declarative("sns-subscribe-only","click",function(g){if(!d.isSnsLocked()){g=c("\x3cform\x3e",{method:b.JUST_SUBSCRIBE_FORM_ATTRIBUTES.method,action:b.JUST_SUBSCRIBE_FORM_ATTRIBUTES.action,id:b.JUST_SUBSCRIBE_FORM_ATTRIBUTES.id,name:b.JUST_SUBSCRIBE_FORM_ATTRIBUTES.name});var f="";if(a.isCbbTemplateEnabled())for(var k=[{name:"ASIN"},{name:"snsMerchantID"},{name:"offerListingID",fieldName:"snsOfferListingID"},
{name:"longShipAddressId",fieldName:"snsAddressId"},{name:"rcxOrdFreq"},{name:"quantity"}],h=0;h<k.length;h++)var e=k[h].name,m=k[h].fieldName?k[h].fieldName:e,m=a.getOnmlv2FormValueByName(m),f=f+a.createHiddenInput(e,m);else{a.removeFormFieldsIntroducedByCbb();k=[{name:"ASIN"},{name:"offerListingID",fieldName:"snsOfferListingID"},{name:"rcxOrdFreq"},{name:"snsMerchantID"},{name:"longShipAddressId",fieldName:"snsAddressId"}];for(h=0;h<k.length;h++)e=k[h].name,m=k[h].fieldName?k[h].fieldName:e,m=a.isMobileDevice()?
c(b.MOBILE_ADD_TO_CART_DIV+" [name\x3d"+m+"]").val():a.isWeb()?c(b.ADD_TO_CART_DIV+" [name\x3d"+m+"]").val():c(b.TABLET_ADD_TO_CART_DIV+" [name\x3d"+m+"]").val(),f+=a.createHiddenInput(e,m);k=a.isMobileDevice()?c(b.SNS_MOBILE_QUANTITY):c(b.QUANTITY_CONTAINER).find(b.SNS_QUANTITY);f+=a.createHiddenInput("quantity",k.val())}f+=a.createHiddenInput("ref","sns-subscribe-only");f+=a.createHiddenInput("submit.subscribe-only","1");g.html(f);c("body").append(g);c(b.JUST_SUBSCRIBE_FORM).submit();c(b.JUST_SUBSCRIBE_FORM).remove()}})});
n.when("A","a-dropdown","a-modal","sns-vmf-utils","sns-onmlv2-utils","sns-buybox-constants").register("sns-select-delivery",function(e,b,a,d,c,g){function f(){h("#sns-only-delivery-option-text").length&&(h("#sns-only-delivery-option-text").html(h("#sns-only-delivery-option-text").html().replace(/%_date_%/g,"\x3cspan class \x3d'sns-only-date'\x3e\x3c/span\x3e")),h("#sns-only-delivery-option-text").html(h("#sns-only-delivery-option-text").html().replace(/%_discount_%/g,"\x3cspan class \x3d'sns-only-discount'\x3e\x3c/span\x3e")),
h("#onml-later-delivery-option-text").html(h("#onml-later-delivery-option-text").html().replace(/%_date-more-later_%/g,"\x3cspan class \x3d'sns-ml-date'\x3e\x3c/span\x3e")),h("#onml-later-delivery-option-text").html(h("#onml-later-delivery-option-text").html().replace(/%_discount-more-later_%/g,"\x3cspan class \x3d'sns-ml-discount'\x3e\x3c/span\x3e")),h("#onml-now-delivery-option-text").html(h("#onml-now-delivery-option-text").html().replace(/%_date-one-now_%/g,"\x3cspan class \x3d'sns-one-now-date'\x3e\x3c/span\x3e")),
h("#onml-now-delivery-option-text").html(h("#onml-now-delivery-option-text").html().replace(/%_discount-one-now_%/g,"\x3cspan class \x3d'sns-one-now-discount'\x3e\x3c/span\x3e")));var a=c.getDeliveryInfoParam(),b=c.getDiscountOptionsParam(),f=c.getDiscountTypeParam(),d=c.getSnsFrequencyParam(),k=c.getOnmlFrequencyParam(),e=c.getOnmlDateParam(),p=h("[name\x3drcxOrdFreqSns]").prop("selectedIndex"),m=h("[name\x3drcxOrdFreqOnml]").prop("selectedIndex");if("true"===h("#firstDeliveryOptionMessagesV2").val())h("#sns-only-delivery-option-text").html(d[p].firstDeliveryOptions[0].text),
h("#onml-later-delivery-option-text").html(k[m].firstDeliveryOptions[0].text);else{var k=a.snsDates[p],a=a.onmlDates[m],p=d[p].highlightedDiscount,q=b[p],d=d[m].highlightedDiscount,m=b[d];f===g.DISCOUNT_TYPE_ZERO_BASE&&0===d?(h(".onmlNextDeliveryDate").addClass("aok-hidden"),h(".onmlNextDeliveryDateNoDiscount").removeClass("aok-hidden")):f===g.DISCOUNT_TYPE_ZERO_STATIC?(h(".onmlNextDeliveryDate").addClass("aok-hidden"),h(".onmlNextDeliveryDateNoDiscount").removeClass("aok-hidden")):(h(".onmlNextDeliveryDate").removeClass("aok-hidden"),
h(".onmlNextDeliveryDateNoDiscount").addClass("aok-hidden"));f===g.DISCOUNT_TYPE_ZERO_BASE&&0===p?(h(".snsDeliveryDate").addClass("aok-hidden"),h(".snsDeliveryDateNoDiscount").removeClass("aok-hidden")):f===g.DISCOUNT_TYPE_ZERO_STATIC?(h(".snsDeliveryDate").addClass("aok-hidden"),h(".snsDeliveryDateNoDiscount").removeClass("aok-hidden")):(h(".snsDeliveryDate").removeClass("aok-hidden"),h(".snsDeliveryDateNoDiscount").addClass("aok-hidden"));h(".sns-only-date").html(k);h(".sns-only-discount").html(q);
h(".sns-ml-date").html(a);h(".sns-ml-discount").html(m)}b=b[0];h(".sns-one-now-date").html(e);h(".sns-one-now-discount").html(b)}function k(){var a,b,f;h(g.SNS_DELIVERY_OPTION_DIV).is(":checked")?(a=h("[name\x3drcxOrdFreqSns]").prop("selectedIndex"),b=c.getSnsFrequencyParam(),h("#rcxOrdFreqSnsWrapper").removeClass("aok-hidden"),h("#rcxOrdFreqOnmlWrapper").addClass("aok-hidden"),f="sns"):(a=h("[name\x3drcxOrdFreqOnml]").prop("selectedIndex"),b=c.getOnmlFrequencyParam(),h("#rcxOrdFreqOnmlWrapper").removeClass("aok-hidden"),
h("#rcxOrdFreqSnsWrapper").addClass("aok-hidden"),f="onml");d.selectFrequency(b[a],f)}var h=e.$,p,m,q;n.when("a-sheet").execute("sns-mobile-sheet",function(a){m=a});e.declarative("sns-delivery-date-bottom-sheet","click",function(a){h("#rcxOrdFreqOnmlWrapper").hasClass("aok-hidden")?d.updateFrequencyIndex(h("[name\x3drcxOrdFreqSns]").prop("selectedIndex")):d.updateFrequencyIndex(h("[name\x3drcxOrdFreqOnml]").prop("selectedIndex"));f();p||(a={name:"sns_delivery_bottom_sheet",preloadDomId:"snsDeliveryDateBottomSheet",
height:270,closeType:"message",closeMessage:h("#bottomSheetClose").val(),sheetType:"web"},p=m.create(a));m.showSheet(p)});e.declarative("sns-delivery-date","click",function(b){h("#rcxOrdFreqOnmlWrapper").hasClass("aok-hidden")?d.updateFrequencyIndex(h("[name\x3drcxOrdFreqSns]").prop("selectedIndex")):d.updateFrequencyIndex(h("[name\x3drcxOrdFreqOnml]").prop("selectedIndex"));f();b=h(g.SNS_SUBMIT_SECTION_ID);var c={dataStrategy:"preload",header:h("#deliveryModalTitle").val(),name:"sns-delivery-modal"};
q||(q=a.create(b,c));q.show()});e.declarative("sns-delivery-cancel-btn","click",function(a){q.hide()});e.declarative("sns-delivery-change-btn","click",function(a){k();q.hide()});e.on("a:sheet:beforeHide:sns_delivery_bottom_sheet",function(){k()});e.on("a:sheet:beforeShow:sns_delivery_bottom_sheet",function(){var a=p.getContentContainer().find(g.SNS_DELIVERY_BOTTOM_SHEET),b=h("#a-popover-sns-delivery-modal").find(g.SNS_DELIVERY_BOTTOM_SHEET);b.html()!==r&&null!==b.html()&&a.replaceWith(b)})});n.when("A",
"sns-buybox-constants","sns-priceblock-constants").register("sns-onmlv2-priceblock-utils",function(e,b,a){var d=e.$;return{updateDesktopPriceBlock:function(c){if(c){var g=c.zeroBaseDiscount,f=0<d(b.SNS_TOGGLE_BUY_BOX).length,k=0<d(a.DP_STRIKE_PRICE).length;d(b.SNS_DELIVERY_OPTION_DIV).is(":checked")?(d(a.ONE_NOW_SHIPPING_MESSAGE).addClass("aok-hidden"),c.justSubscribeTieredStatus?(d(a.SNS_TIERED_PRICE).removeClass("aok-hidden"),d(a.SNS_BASED_PRICE).addClass("aok-hidden"),d(a.SNS_TIERED_SAVINGS).removeClass("aok-hidden"),
d(a.SNS_BASED_SAVINGS).addClass("aok-hidden"),d(a.SNS_SAVINGS_LABEL).removeClass("aok-hidden"),d(a.SNS_SAVINGS_ROW).removeClass("aok-hidden")):g?(d(a.SNS_TIERED_PRICE).addClass("aok-hidden"),d(a.SNS_BASED_PRICE).removeClass("aok-hidden"),d(a.SNS_SAVINGS_ROW).addClass("aok-hidden")):(d(a.SNS_TIERED_PRICE).addClass("aok-hidden"),d(a.SNS_BASED_PRICE).removeClass("aok-hidden"),d(a.SNS_TIERED_SAVINGS).addClass("aok-hidden"),d(a.SNS_BASED_SAVINGS).removeClass("aok-hidden"),d(a.SNS_SAVINGS_LABEL).removeClass("aok-hidden"),
d(a.SNS_SAVINGS_ROW).removeClass("aok-hidden"))):d(b.ONML_DELIVERY_OPTION_DIV).is(":checked")&&(d(a.ONE_NOW_SHIPPING_MESSAGE).removeClass("aok-hidden"),g?(d(a.SNS_TIERED_PRICE).addClass("aok-hidden"),d(a.SNS_BASED_PRICE).removeClass("aok-hidden"),d(a.SNS_SAVINGS_ROW).addClass("aok-hidden"),k&&(d(b.SNS_TIERED_PRICE).hasClass("aok-hidden")?(d(a.SNS_SAVINGS_ROW).removeClass("aok-hidden"),d(a.SNS_SAVINGS_LABEL).removeClass("aok-hidden"),d(a.SNS_BASED_SAVINGS).removeClass("aok-hidden"),d(a.SNS_TIERED_SAVINGS).addClass("aok-hidden")):
d(b.SNS_BASE_PRICE).hasClass("aok-hidden")&&(d(a.SNS_SAVINGS_ROW).removeClass("aok-hidden"),d(a.SNS_SAVINGS_LABEL).removeClass("aok-hidden"),d(a.SNS_TIERED_SAVINGS).removeClass("aok-hidden"),d(a.SNS_BASED_SAVINGS).addClass("aok-hidden")))):(d(a.SNS_TIERED_PRICE).addClass("aok-hidden"),d(a.SNS_BASED_PRICE).removeClass("aok-hidden"),d(a.SNS_TIERED_SAVINGS).addClass("aok-hidden"),d(a.SNS_BASED_SAVINGS).removeClass("aok-hidden"),d(a.SNS_SAVINGS_LABEL).removeClass("aok-hidden"),d(a.SNS_SAVINGS_ROW).removeClass("aok-hidden")));
f&&d(a.SNS_SAVINGS_ROW).addClass("aok-hidden")}},updateBuyboxPriceBlock:function(c){c&&(d(b.SNS_DELIVERY_OPTION_DIV).is(":checked")?(c.oneNowDiscountEligible||d(a.SNS_STRIKETHROUGH_PRICE).removeClass("aok-hidden"),c.justSubscribeTieredStatus?(d(b.SNS_BASE_PRICE).addClass("aok-hidden"),d(b.SNS_TIERED_PRICE).removeClass("aok-hidden")):(d(b.SNS_BASE_PRICE).removeClass("aok-hidden"),d(b.SNS_TIERED_PRICE).addClass("aok-hidden"))):d(b.ONML_DELIVERY_OPTION_DIV).is(":checked")&&(d(b.SNS_BASE_PRICE).removeClass("aok-hidden"),
d(b.SNS_TIERED_PRICE).addClass("aok-hidden"),c.oneNowDiscountEligible||(d(a.SNS_STRIKETHROUGH_PRICE).addClass("aok-hidden"),d(a.SNS_BASED_SAVINGS).addClass("aok-hidden"))))}}});n.when("A","sns-buybox-constants","sns-constants","sns-onmlv2-utils").register("sns-onmlv2-message-utils",function(e,b,a,d){function c(){f("#sns-delivery-buybox-upsell-message").find([b.SNS_DELIVERY_NEW_OR_UNRECOGNIZED_UPSELL,b.SNS_DELIVERY_NON_TIERED_UPSELL,b.SNS_DELIVERY_TIERED_UPSELL].join()).addClass("aok-hidden");f("#onml-delivery-buybox-upsell-message").find([b.ONML_DELIVERY_NEW_OR_UNRECOGNIZED_UPSELL,
b.ONML_DELIVERY_NON_TIERED_UPSELL,b.ONML_DELIVERY_TIERED_UPSELL].join()).addClass("aok-hidden")}function g(){f("#sns-delivery-pill").find([b.SNS_DELIVERY_NEW_OR_UNRECOGNIZED_PILL,b.SNS_DELIVERY_NON_TIERED_PILL,b.SNS_DELIVERY_TIERED_PILL].join()).addClass("aok-hidden");f("#onml-delivery-pill").find([b.ONML_DELIVERY_NEW_OR_UNRECOGNIZED_PILL,b.ONML_DELIVERY_NON_TIERED_PILL,b.ONML_DELIVERY_TIERED_PILL].join()).addClass("aok-hidden")}var f=e.$;return{updateFirstRecurringDeliveryDate:function(a,c){if(a&&
c){var d=a.firstRecurringDeliveryDates[c-1];f(b.SNS_ONMLV2_FRDD).each(function(){f(this).html(d)})}},updateUpsellMessages:function(d,h,g){if(d&&h&&g){var e=h.snsCustomer,q=null==h.snsJustSubscribeOptionEnabled?h.snsCustomer||!1:h.snsJustSubscribeOptionEnabled||!1,t=f(b.SNS_DELIVERY_NEW_OR_UNRECOGNIZED_UPSELL).length?!0:!1,l=h.suppressSnSOneNowOption||!1,n=h.justSubscribeTieredStatus;h=h.tieredStatusOnRecurringDeliveryDates[g-1]===a.TIERED;d===a.DELIVERY_OPTION.SNS?(f(b.SNS_DELIVERY_UPSELL).removeClass("aok-hidden"),
f(b.ONML_DELIVERY_UPSELL).addClass("aok-hidden"),q||l?t&&!e?(c(),f(b.SNS_DELIVERY_NEW_OR_UNRECOGNIZED_UPSELL).removeClass("aok-hidden")):n?(c(),f(b.SNS_DELIVERY_TIERED_UPSELL).removeClass("aok-hidden")):(c(),f(b.SNS_DELIVERY_NON_TIERED_UPSELL).removeClass("aok-hidden")):c()):d===a.DELIVERY_OPTION.ONML?(f(b.SNS_DELIVERY_UPSELL).addClass("aok-hidden"),f(b.ONML_DELIVERY_UPSELL).removeClass("aok-hidden"),q?t&&!e?(c(),f(b.ONML_DELIVERY_NEW_OR_UNRECOGNIZED_UPSELL).removeClass("aok-hidden")):h?(c(),f(b.ONML_DELIVERY_TIERED_UPSELL).removeClass("aok-hidden")):
(c(),f(b.ONML_DELIVERY_NON_TIERED_UPSELL).removeClass("aok-hidden")):(c(),f(b.ONML_DELIVERY_NEW_OR_UNRECOGNIZED_UPSELL).removeClass("aok-hidden"))):(f(b.SNS_DELIVERY_UPSELL).addClass("aok-hidden"),f(b.ONML_DELIVERY_UPSELL).addClass("aok-hidden"),c())}},updateDiscountPill:function(c,d,e){if(c&&d&&e){var m=d.snsCustomer,q=null==d.snsJustSubscribeOptionEnabled?d.snsCustomer||!1:d.snsJustSubscribeOptionEnabled||!1,t=f(b.SNS_DELIVERY_NEW_OR_UNRECOGNIZED_PILL).length?!0:!1,l=d.suppressSnSOneNowOption||
!1,n=d.justSubscribeTieredStatus;e=d.tieredStatusOnRecurringDeliveryDates[e-1]===a.TIERED;d=d.zeroBaseDiscount;c===a.DELIVERY_OPTION.SNS?(f(b.SNS_DELIVERY_PILL).removeClass("aok-hidden"),f(b.ONML_DELIVERY_PILL).addClass("aok-hidden"),q||l?t&&!m?(g(),d||f(b.SNS_DELIVERY_NEW_OR_UNRECOGNIZED_PILL).removeClass("aok-hidden")):n?(g(),f(b.SNS_DELIVERY_TIERED_PILL).removeClass("aok-hidden")):(g(),d||f(b.SNS_DELIVERY_NON_TIERED_PILL).removeClass("aok-hidden")):g()):c===a.DELIVERY_OPTION.ONML?(f(b.SNS_DELIVERY_PILL).addClass("aok-hidden"),
f(b.ONML_DELIVERY_PILL).removeClass("aok-hidden"),q?t&&!m?(g(),d||f(b.ONML_DELIVERY_NEW_OR_UNRECOGNIZED_PILL).removeClass("aok-hidden")):e?(g(),f(b.ONML_DELIVERY_TIERED_PILL).removeClass("aok-hidden")):(g(),d||f(b.ONML_DELIVERY_NON_TIERED_PILL).removeClass("aok-hidden")):(g(),d||f(b.ONML_DELIVERY_NEW_OR_UNRECOGNIZED_PILL).removeClass("aok-hidden"))):(g(),f(b.SNS_DELIVERY_PILL).addClass("aok-hidden"),f(b.ONML_DELIVERY_PILL).addClass("aok-hidden"))}},updateBuyboxDeliveryOption:function(){f(b.SNS_DELIVERY_OPTION_DIV).is(":checked")?
(e.declarative.remove(b.SNS_DECLARATIVE_ACTION),e.declarative.create(b.SNS_DECLARATIVE_ACTION,b.SNS_SUBSCRIBE_ONLY_ACTION),f(b.SNS_ONMLV2_DELIVERY_OPTION_FORM_FIELD).val(b.SNS_DELIVERY_OPTION_SNS),f(b.SNS_SUBSCRIBE_BUTTON_DELIVERY_OPTION_FORM_FIELD).val(b.SNS_DELIVERY_OPTION_SNS),f(b.SNS_DELIVERY_OPTION_ONML_LINK).addClass("aok-hidden"),f(b.SNS_DELIVERY_OPTION_SNS_LINK).removeClass("aok-hidden"),f(b.ACCORDION_HEADER_DELIVERY_OPTION_ONML_LINK).addClass("aok-hidden"),f(b.ACCORDION_HEADER_DELIVERY_OPTION_SNS_LINK).removeClass("aok-hidden")):
f(b.ONML_DELIVERY_OPTION_DIV).is(":checked")&&(e.declarative.remove(b.SNS_DECLARATIVE_ACTION),e.declarative.create(b.SNS_DECLARATIVE_ACTION,d.getOnmlDeclarativeAction()),f(b.SNS_ONMLV2_DELIVERY_OPTION_FORM_FIELD).val(b.SNS_DELIVERY_OPTION_ONML),f(b.SNS_SUBSCRIBE_BUTTON_DELIVERY_OPTION_FORM_FIELD).val(b.SNS_DELIVERY_OPTION_ONML),f(b.SNS_DELIVERY_OPTION_SNS_LINK).addClass("aok-hidden"),f(b.SNS_DELIVERY_OPTION_ONML_LINK).removeClass("aok-hidden"),f(b.ACCORDION_HEADER_DELIVERY_OPTION_SNS_LINK).addClass("aok-hidden"),
f(b.ACCORDION_HEADER_DELIVERY_OPTION_ONML_LINK).removeClass("aok-hidden"))}}});n.when("A","a-dropdown","sns-vmf-utils","sns-onmlv2-utils","sns-metrics-constants","sns-annual-savings","ready").execute("sns-onmlv2-frequency-update",function(e,b,a,d,c,g){function f(a){l.ue&&l.ue.count(a,(ue.count(a)||0)+1)}var k=e.$;e.on("a:dropdown:rcxOrdFreqSns:select",function(b){d.getDeliveryOption();d.getBuyboxMessageParam();b=k("[name\x3drcxOrdFreqSns]").prop("selectedIndex");a.updateFrequencyIndex(b);var e=d.getSnsFrequencyParam();
a.selectFrequency(e[b],"sns");b=k("[name\x3drcxOrdFreqSns]").val();e=a.getFrequencyValueExcludingDeliveryType(b);0<b.search("W")?f(c.SNS_LEGACY_WEEKLY_FREQUENCY_SELECT_METRICS):f(c.SNS_LEGACY_MONTHLY_FREQUENCY_SELECT_METRICS);g.checkPreConditionsAndUpdateAnnualSavings(e)});e.on("a:dropdown:rcxOrdFreqOnml:select",function(b){d.getDeliveryOption();d.getBuyboxMessageParam();b=k("[name\x3drcxOrdFreqOnml]").prop("selectedIndex");a.updateFrequencyIndex(b);var e=d.getOnmlFrequencyParam();a.selectFrequency(e[b],
"onml");b=k("[name\x3drcxOrdFreqOnml]").val();e=a.getFrequencyValueExcludingDeliveryType(b);0<b.search("W")?f(c.SNS_ONML_WEEKLY_FREQUENCY_SELECT_METRICS):f(c.SNS_ONML_MONTHLY_FREQUENCY_SELECT_METRICS);g.checkPreConditionsAndUpdateAnnualSavings(e)})});n.when("A","sns-buybox-constants").execute("sns-onmlv2-quantity-update",function(e,b){var a=e.$;e.on(b.SNS_ONMLV2_QUANTITY_TRIGGER_DROPDOWN,function(d){d=d.value;a(b.SNS_ONMLV2_QUANTITY_FORM_FIELD).val(d);a(b.SNS_SUBSCRIBE_BUTTON_QUANTITY_FORM_FIELD).val(d)});
a(b.SNS_ONMLV2_QUANTITY_TRIGGER_RADIO_BUTTON).change(function(d){d=d.target.value;a(b.SNS_ONMLV2_QUANTITY_FORM_FIELD).val(d);a(b.SNS_SUBSCRIBE_BUTTON_QUANTITY_FORM_FIELD).val(d)})});n.when("A","sns-constants","sns-buybox-constants","sns-onmlv2-utils").execute("sns-accordion-content-update",function(e,b,a,d){var c=e.$,g=function(){c(a.SNS_DELIVERY_OPTION_DIV).is(":checked")?c(a.SNS_CBB_PRIME_SHIPPING).addClass("aok-hidden"):c(a.ONML_DELIVERY_OPTION_DIV).is(":checked")&&c(a.SNS_CBB_PRIME_SHIPPING).removeClass("aok-hidden")};
e.declarative("sns-delivery-change-btn","click",function(a){g()});e.on("a:sheet:beforeHide:sns_delivery_bottom_sheet",function(){g()})});"use strict";n.register("sns-join-prime-endpoint",function(){return{endpoint:"/amazonprime/"}});n.register("sns-priceblock-constants",function(){return{PRICEBLOCK_SNSPRICE_ROW:"#priceblock_snsprice_row",SNS_UPSELL:"#priceblock_snsupsell_row",SNS_SAVINGS:"#snsprice_savings",DP_OUR_PRICE:"#priceblock_ourprice",DP_OUR_PRICE_LABEL:"#priceblock_ourprice_lbl",DP_OUR_PRICE_SAVINGS:"#regularprice_savings",
DP_OUR_PRICE_BADGING:"#ourprice_fbabadge",DP_OUR_PRICE_SHIPPING:"#ourprice_shippingmessage",DP_OUR_PRICE_PPU:"#priceblock_ourprice_row #priceblock_ourprice+.a-size-small",DP_STRIKE_PRICE:"#price .a-text-strike",DP_SALE_PRICE:"#priceblock_saleprice",DP_SALE_PRICE_LABEL:"#priceblock_saleprice_lbl",DP_SALE_PRICE_SHIPPING:"#saleprice_shippingmessage",DP_SALE_PRICE_PPU:"#priceblock_saleprice_row #priceblock_saleprice+.a-size-small",DP_DEAL_PRICE:"#priceblock_dealprice",DP_DEAL_PRICE_SAVINGS:"#dealprice_savings",
DP_DEAL_PRICE_SHIPPING:"#dealprice_shippingmessage",DP_DEAL_PRICE_PPU:"#priceblock_dealprice_row #priceblock_dealprice+.a-size-small",SNS_PITCH_PRICE_UPSELL_TEXT:"#onmlPriceBlockUpsellText",SNS_ATF_REDESIGN_UPSELL_UNCHECKED:"#onml-atf-redesign-upsell-unchecked",SNS_ATF_REDESIGN_UPSELL_CHECKED:"#onml-atf-redesign-upsell-checked",ONML_ATF_REDESIGN_UPSELL:"#onml-atf-redesign-upsell",SNS_PITCH_PRICE_FEATURE:"#snsPitchPrice_feature_div",NEW_PITCH_PRICE_FEATURE:"#newPitchPriceWrapper_feature_div",MOBILE_OUR_PRICE_SHIPPING:"#ourPrice_availability",
SHIPPING_DETAILS:'[data-a-sheet*\x3d"shippingDetailsDisplayContent"]',SNS_TIERED_PRICE:"#unifiedPrice_feature_div #priceblock_snsprice_Tiered, #snsPrice #priceblock_snsprice_Tiered",SNS_BASED_PRICE:"#unifiedPrice_feature_div #priceblock_snsprice_Based, #snsPrice #priceblock_snsprice_Based",SNS_TIERED_SAVINGS:"#unifiedPrice_feature_div #snsSavings_Tiered, #snsPrice #snsSavings_Tiered",SNS_BASED_SAVINGS:"#unifiedPrice_feature_div #snsSavings_NonTiered, #snsPrice #snsSavings_NonTiered",SNS_SAVINGS_LABEL:"#unifiedPrice_feature_div #snsSavings_lbl",
SNS_SAVINGS_ROW:"#unifiedPrice_feature_div #priceblock_snsSavings_row, #snsPrice #priceblock_snsSavings_row",ONE_NOW_SHIPPING_MESSAGE:"#priceblock_oneNowShippingMessage, #priceblock_oneNowShippingMessage_dpv2",SNS_STRIKETHROUGH_PRICE:"#snsStrikeThroughPrice"}});n.when("A","sns-utils","sns-constants","sns-price-utils","sns-buybox-constants","sns-priceblock-constants").register("sns-price-refresh",function(e,b,a,d,c,g){return{init:function(){e.declarative("sns-opt-in-checked","change",function(){d.showSnSPriceIfSnSOptInChecked()});
b.registerCallbackForNameSpace(a.EVENT_NAMESPACE.PAGE_UPDATE,d.showSnSPriceIfSnSOptInChecked);d.showSnSPriceIfSnSOptInChecked();e.$(c.SNS_BUY_USED_BUTTON).click(function(){var f=c.SNS_OPT_IN_CHECKBOX,d=b.getOnmlUserPref(a.USER_PREFS_KEYS.SNS_OPT_IN),h=g.SNS_UPSELL,p=g.SNS_PITCH_PRICE_UPSELL_TEXT,m=g.ONML_ATF_REDESIGN_UPSELL;!0===d&&(e.$(f).click(),b.setOnmlUserPref(a.USER_PREFS_KEYS.SNS_OPT_IN,!0));e.$(m).addClass("aok-hidden");e.$(h).addClass("aok-hidden");e.$(p).addClass("aok-hidden")})}}});n.when("A",
"sns-utils","sns-priceblock-constants","sns-buybox-constants").register("sns-price-utils",function(e,b,a,d){var c=e.$,g=a.SNS_PITCH_PRICE_UPSELL_TEXT,f=a.SNS_PITCH_PRICE_FEATURE,k=a.NEW_PITCH_PRICE_FEATURE,h=a.PRICEBLOCK_SNSPRICE_ROW,p=d.SNS_OPT_IN_CHECKBOX,m=a.SNS_UPSELL,q=a.SNS_SAVINGS,l=a.DP_OUR_PRICE,n=a.DP_OUR_PRICE_LABEL,A=a.DP_OUR_PRICE_SAVINGS,r=a.DP_OUR_PRICE_BADGING,w=a.DP_OUR_PRICE_SHIPPING,y=a.DP_SALE_PRICE,B=a.DP_SALE_PRICE_LABEL,C=a.DP_SALE_PRICE_SHIPPING,x=a.DP_DEAL_PRICE,u=a.DP_DEAL_PRICE_SAVINGS,
v=a.DP_DEAL_PRICE_SHIPPING,z=a.MOBILE_OUR_PRICE_SHIPPING,E=a.SHIPPING_DETAILS,F=d.SNS_BUY_NEW_PRICE,G=d.NON_CBB_BUY_NEW_PRICE,H=d.CBB_BUY_NEW_PRICE,I=d.SNS_PRICE_IN_BUY_USED_SECTION,J=d.CBB_SNS_BUY_NEW_PRICE,K=d.DPV2_BUY_NEW_PRICE,L=a.SNS_ATF_REDESIGN_UPSELL_CHECKED,M=a.SNS_ATF_REDESIGN_UPSELL_UNCHECKED;return{showSnSPriceIfSnSOptInChecked:function(){b.isSnSEligible()&&(c(p).is(":checked")?b.shouldShowPrice()&&(c(h).length?(c(h).removeClass("aok-hidden"),c(q).removeClass("a-hidden"),c(m).addClass("aok-hidden"),
c(A).addClass("a-hidden"),c(r).addClass("a-hidden"),c(w).addClass("a-hidden"),c(z).addClass("a-hidden"),c(l).addClass("a-text-strike a-size-base a-color-secondary onml-price-inactive").removeClass("a-size-medium a-color-price"),c(n).addClass("onml-price-inactive"),c(y).addClass("a-text-strike a-size-base a-color-secondary onml-price-inactive").removeClass("a-size-medium a-color-price "),c(B).addClass("onml-price-inactive"),c(C).addClass("a-hidden"),c(x).addClass("a-text-strike a-size-base a-color-secondary onml-price-inactive").removeClass("a-size-medium a-color-price"),
c(u).addClass("a-hidden"),c(v).addClass("a-hidden"),c(h).css({display:"table-row",visibility:"visible"}),c(h).prev().has(E).addClass("aok-hidden"),c(G).addClass("aok-hidden"),c(F).removeClass("aok-hidden"),c(H).addClass("aok-hidden"),c(I).addClass("aok-hidden"),c(J).removeClass("aok-hidden"),c(K).addClass("aok-hidden")):(c(g).addClass("aok-hidden"),c(k).addClass("aok-hidden"),c(f).removeClass("aok-hidden"),c(f).css({display:"block",visibility:"visible"}),c(L).removeClass("aok-hidden"),c(M).addClass("aok-hidden"))):
c(h).length?(c(h).addClass("aok-hidden"),c(q).addClass("a-hidden"),c(m).removeClass("aok-hidden"),c(A).removeClass("a-hidden"),c(r).removeClass("a-hidden"),c(w).removeClass("a-hidden"),c(z).removeClass("a-hidden"),c(l).addClass("a-size-medium a-color-price").removeClass("a-text-strike a-size-base a-color-secondary onml-price-inactive"),c(n).removeClass("onml-price-inactive"),c(y).addClass("a-size-medium a-color-price").removeClass("a-text-strike a-size-base a-color-secondary onml-price-inactive"),
c(B).removeClass("onml-price-inactive"),c(C).removeClass("a-hidden"),c(x).addClass("a-size-medium a-color-price").removeClass("a-text-strike a-size-base a-color-secondary onml-price-inactive"),c(u).removeClass("a-hidden"),c(v).removeClass("a-hidden"),c(h).prev().has(E).removeClass("aok-hidden"),c(G).removeClass("aok-hidden"),c(F).addClass("aok-hidden"),c(H).removeClass("aok-hidden"),c(I).addClass("aok-hidden"),c(J).addClass("aok-hidden"),c(K).removeClass("aok-hidden")):(c(g).removeClass("aok-hidden"),
c(k).removeClass("aok-hidden"),c(f).addClass("aok-hidden"),c(g).css({display:"block",visibility:"visible"}),c(M).removeClass("aok-hidden"),c(L).addClass("aok-hidden")))}}});n.when("A","sns-constants","sns-buybox-constants","sns-states-loaded-in-dom").register("sns-utils",function(e,b,a){var d=e.$,c={},g={},f=function(a,b,c){var f,g=function(a){if(!a||"object"===typeof a)return a;var c=d.parseJSON;l.JSON&&l.JSON.parse&&(c=JSON.parse);try{return"string"===typeof a?c(a):null}catch(f){return l.ueLogError&&
l.ueLogError(f,{logLevel:"ERROR",attribution:"sns",message:"An error occurred when getting onml parameters from page-state. a-state: "+b}),null}};a=d(a||"html");return 1<=a.length&&(a=a.find("script[data-a-state*\x3d'"+b+"']"))&&1<=a.length?(f=g(a.first().text()),g("object"===typeof f?f[c]:null)):f},k=function(b){var c=f(a.SNS_OPT_IN_FEATURE_DIV,"sns-onml-params","onmlParams");return b?c&&c[b]:c},h=function(){var a=k("deviceType"),c=g[b.USER_PREFS_KEYS.ONML_PARAMS],c=c&&c.deviceType;return a||c};
return{isSnSEligible:function(){return k("snsEligible")},getAStateFromDom:f,getOnmlParam:k,shouldShowPrice:function(){return k("showPrice")},getDeviceType:h,registerCallbackForNameSpace:function(a,b){c[a]||(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},executeCallbacksForNameSpace:function(a){if((a=c[a])&&a.constructor===Array)for(var b=0;b<a.length;b++)a[b]()},setOnmlUserPref:function(a,b){g[a]=b},getOnmlUserPref:function(a){return g[a]},deleteOnmlUserPref:function(a){delete g[a]},isMobileDevice:function(){var a=
h();return"mobile"===a||"mobileApp"===a},isMobileApp:function(){return"mobileApp"===h()},isTabletApp:function(){var a=h();return"iPad"===a||"tabletApp"===a||"tabletLargeApp"===a},isVerucaBuyNowEnabled:function(){return k("verucaBuyNowEnabled")},isVerucaOneClickEnabled:function(){return k("verucaOneClickEnabled")},enableSnSOptIn:function(){d(a.SNS_OPT_IN_CHECKBOX).removeAttr("disabled")},isSnsCustomer:function(){return k("snsCustomer")}}});n.when("A","sns-buybox-constants","sns-constants").register("sns-onmlv2-utils",
function(e,b,a){function d(a,b){return![0,1,3,4,5].includes(b)}var c=e.$,g,f=function(a,b,f){var d,g=function(a){if(!a||"object"===typeof a)return a;var f=c.parseJSON;l.JSON&&l.JSON.parse&&(f=JSON.parse);try{return"string"===typeof a?f(a):null}catch(d){return v("snsGetAStateException","NotDefined"),l.ueLogError&&l.ueLogError(d,{logLevel:"ERROR",attribution:"sns",message:"An error occurred when getting onml parameters from page-state. a-state: "+b+" with string: "+a}),null}};a=c(a||"html");return 1<=
a.length&&(a=a.find("script[data-a-state*\x3d'"+b+"']"))&&1<=a.length?(d=g(a.first().text()),g("object"===typeof d?d[f]:null)):d},k=function(a,b,f){var d,g=function(a){if(null===a||"object"===typeof a||"boolean"===typeof a)return a;var f=c.parseJSON;l.JSON&&l.JSON.parse&&(f=JSON.parse);try{return"string"===typeof a?f(a):null}catch(d){return v("b2bGetAStateException","NotDefined"),l.ueLogError&&l.ueLogError(d,{logLevel:"ERROR",attribution:"b2b",message:"An error occurred when getting onml parameters from page-state. a-state: "+
b+" with string: "+a}),null}};a=c(a||"html");return 1<=a.length&&(a=a.find("script[data-a-state*\x3d'"+b+"']"))&&1<=a.length?(d=g(a.first().text()),g("object"===typeof d?d[f]:null)):d},h=function(a,b,f){var d;a=c(a||"html");if(1<=a.length&&(a=a.find("script[data-a-state*\x3d'"+b+"']"))&&1<=a.length){if((a=a.first().text())&&"object"!==typeof a){var g=c.parseJSON;l.JSON&&l.JSON.parse&&(g=JSON.parse);try{d="string"===typeof a?g(a):null}catch(h){v("snsGetAStateWithoutJsonException","NotDefined"),l.ueLogError&&
l.ueLogError(h,{logLevel:"ERROR",attribution:"sns",message:"An error occurred when getting onml parameters from page-state. a-state: "+b+" with string: "+a}),d=null}}else d=a;return f="object"===typeof d?d[f]:null}return d},p=function(){return c(b.SNS_ONMLV2_DELIVERY_OPTION_FORM_FIELD).val()},m=function(){return f(r,b.SNS_BUY_BOX_PARAMS,b.SNS_BUY_BOX_PARAM_MAP)},q=function(){return f(r,"sns-frequency-params","snsFrequencyParamsMap")},t=function(){return f(r,"sns-frequency-params","onmlFrequencyParamsMap")},
n=function(){var d;return(d=p()===a.DELIVERY_OPTION.SNS?c(b.SNS_SELECTED_FREQUENCY).val():c(b.ONML_SELECTED_FREQUENCY).val())?d.split("|")[0]:null},A=function(a){var b=null;(a=a?q():t())&&Array.isArray(a)&&(b=a.find(function(a){if(!0===a.isDefault)return a}));return b?b.value.split("|")[0]:null},D=function(){var a=!1,b=t();b&&Array.isArray(b)&&(a=b.find(function(a){return!0===a.isDefault}));return a},w=function(a){var b=m();return b?b.deviceType===a:!1},y=function(){return w("mobile")||w("mobileApp")},
B=function(){return w("web")},C=function(){return document.querySelector(b.SNS_ACCORDION_HEADER_RADIO_BUTTON)},x=function(b,c){return b&&c?b.tieredStatusOnRecurringDeliveryDates[c-1]===a.TIERED:!1},u=function(a,b){return a&&b?a.firstRecurringDeliveryDates[b-1]:""},v=function(a,b){l.ue&&l.ue.count(a,(ue.count(a)||0)+1);l.uet&&l.uet("cf",b,{wb:1})},z=function(a){l.ue&&l.ue.count(a,(ue.count(a)||0)+1)};return{getAStateFromDom:f,getAStateFromDomWithoutJson:h,getDeliveryOption:p,getSwitchDeliveryOption:function(){if(!g){var a=
m();a&&(g=a.deliveryOption)}return g},getBuyboxMessageParam:m,isMobileDevice:y,isMobileWeb:function(){return w("mobile")},isMobileApp:function(){return w("mobileApp")},isTabletApp:function(){return w("iPad")||w("tabletApp")||w("tabletLargeApp")},isWeb:B,getSnsFrequencyParam:q,getSnsFrequencyParamForB2B:function(){return k(r,"sns-frequency-params","snsFrequencyParamsMap")},getOnmlFrequencyParam:t,getOnmlFrequencyParamForB2B:function(){return k(r,"sns-frequency-params","onmlFrequencyParamsMap")},getIsCustomerPrimeMap:function(){return k(r,
"is-prime-customer","IsPrime")},getIsB2bDiscountWinningMap:function(){return k(r,"is-b2b-discount-winning","isB2bDiscountWinning")},getIsRDProgramWinner:function(){return k(r,"rd-program-params","isRDProgramWinner")},getDeliveryInfoParam:function(){var a=Math.max(c("[name\x3drcxOrdFreqSns]").children("option").length,c("[name\x3drcxOrdFreqOnml]").children("option").length),b=f(r,"sns-frequency-params","deliveryInfoParamsMap");6===a&&b.snsDates&&6<b.snsDates.length&&(a=b,a.snsDates=a.snsDates.filter(d),
a.onmlDates=a.onmlDates.filter(d),b=a);return b},getDiscountOptionsParam:function(){return f(r,"sns-frequency-params","discountOptionsParamsMap")},getDiscountTypeParam:function(){return h(r,"sns-frequency-params","deliveryTypeParamsMap")},getOnmlDateParam:function(){return h(r,"sns-frequency-params","onmlDateParamsMap")},createHiddenInput:function(a,b){return'\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'"\x3e'},getBuyNowAction:function(){return y()?c(b.MOBILE_ADD_TO_CART_DIV).attr("action"):
B()?c(b.ADD_TO_CART_DIV).attr("action"):c(b.TABLET_ADD_TO_CART_DIV).attr("action")},getOnmlv2FormValueByName:function(a){return c(b.SNS_ONMLV2_FORM_FIELDS+" [name\x3d'"+a+"']").val()},getSubscribeButtonFormValueByName:function(a){return c(b.SUBSCRIBE_BUTTON_FORM_FIELDS+" [name\x3d'"+a+"']").val()},isCbbTemplateEnabled:function(){return c(b.SNS_CBB_ACCORDION_ROW).length},removeFormFieldsIntroducedByCbb:function(){c(b.SNS_ONMLV2_FORM_FIELDS+" #ASIN").remove();c(b.SNS_ONMLV2_FORM_FIELDS+" #offerListingID").remove();
c(b.SNS_ONMLV2_FORM_FIELDS+" #snsOfferListingID").remove();c(b.SNS_ONMLV2_FORM_FIELDS+" #snsMerchantID").remove();c(b.SNS_ONMLV2_FORM_FIELDS+" #rcxOrdFreq").remove();c(b.SNS_ONMLV2_FORM_FIELDS+" #quantity").remove()},getCbbSnsAccordionRowRadioButton:C,isCbbSnsAccordionRowExpanded:function(){return"true"===C().getAttribute("aria-checked")},isTiered:x,getOnmlFirstRecurringDeliveryDate:u,getOnmlDeclarativeAction:function(){return c("#onmlDeclarativeAction").val()},generateUrlParams:function(a){if(!a){var d=
b.SNS_SELECT_DELIVERY_URL;return d}var f=(y()?c(b.SNS_FREQUENCY_FORM_FIELD_MOBILE):c(b.SNS_FREQUENCY_FORM_FIELD)).val(),g=[];g.subscribeOnlyDate=a.justSubscribeDeliveryDate;g.subscribeOnlyDateShort=a.justSubscribeShortDeliveryDate;g.subscribeOnlyDiscount=a.justSubscribeTieredStatus?a.tieredDiscountPercent:a.baseDiscountPercent;g.onmlDate=a.oneTimeDeliveryDate;g.onmlDateShort=a.oneTimeShortDeliveryDate;g.onmlDiscount=a.baseDiscountPercent;g.onmlNextDate=u(a,f);g.onmlNextDiscount=x(a,f)?a.tieredDiscountPercent:
a.baseDiscountPercent;g.snsDeliveryOption=c(b.SNS_SELECT_DELIVERY_OPTION_ID).val();g.isMobile=y();g.snscsrf=a.deliveryModalCSRFToken;d=b.SNS_SELECT_DELIVERY_URL;Object.keys(g).forEach(function(a){d+="\x26"+a+"\x3d"+encodeURI(g[a])});return d},createUrlParameter:function(a,b){b=encodeURIComponent(b);return a+"\x3d"+b+"\x26"},getDefaultDeliveryOption:function(){return D()?a.SNS_DELIVERY_OPTION_ONML:a.SNS_DELIVERY_OPTION_SNS},isONMLDefault:D,getDefaultFrequency:A,getSelectedFrequency:n,isSelectedFreqSameAsDefaultFreq:function(){var a=
A(!0),b=A(!1),a=null!==a?a:b,b=n();return a===b},getCurrencyCode:function(){return h(r,"sns-huc-data","currencyCode")},emitSsbMetrics:v,emitInvalidFrequencyMetric:function(a,b){var d=c("input[name\x3drcxOrdFreqOnml]").val(),f=c("input[name\x3drcxOrdFreqSns]").val();/^[0-9][M|W]\|onml$/.test(d)||z(a);/^[0-9][M|W]\|sns$/.test(f)||z(b)},emitMetric:z,getAnnualSavingsParamMap:function(){return f(r,"sns-upsell-params","annualSavingsParamsMap")},getAnnualSavingsWeblabTreatment:function(){return h(r,"sns-upsell-params",
"annualSavingsWeblabTreatment")},getDefaultSavingsValue:function(){return h(r,"sns-upsell-params","defaultAnnualSavingsValue")},recordWeblabTriggers:function(a,b){try{l.ue&&"function"===typeof l.ue.trigger&&l.ue.trigger(a,b)}catch(c){z("snsWeblabTriggeringException")}},logErrorWithAttribution:function(a,b){l.ueLogError&&l.ueLogError(b,{logLevel:"ERROR",attribution:a})},getSubscriberDiscountMessageWeblabTreatment:function(){return h(r,b.SNS_SUBSCRIBER_DISCOUNT_MESSAGE_STATE_ID,"subscriberDiscountMessageTreatment")},
isSnSAccordionActive:function(){var b=e.$(a.ACTIVE_ACCORDION_SELECTOR).data(a.ACCORDION_ROW_NAME_SELECTOR);return b===a.SNS_ACCORDION_ROW_NAME_DESKTOP||b===a.SNS_ACCORDION_ROW_NAME_MOBILE||b===a.SNS_ACCORDION_ROW_NAME_MOBILE_APP},isSnSSelectedAccordion:function(b){b=b.selectedRow.rowName;return b===a.SNS_ACCORDION_ROW_NAME_DESKTOP||b===a.SNS_ACCORDION_ROW_NAME_MOBILE||b===a.SNS_ACCORDION_ROW_NAME_MOBILE_APP},isSnSAccordionActiveForDeviceType:function(b){var c=e.$(a.ACTIVE_ACCORDION_SELECTOR).data(a.ACCORDION_ROW_NAME_SELECTOR);
return b===a.DEVICE_TYPE.DESKTOP?c===a.SNS_ACCORDION_ROW_NAME_DESKTOP:b===a.DEVICE_TYPE.MOBILE?c===a.SNS_ACCORDION_ROW_NAME_MOBILE:b===a.DEVICE_TYPE.MOBILE_APP?c===a.SNS_ACCORDION_ROW_NAME_MOBILE_APP:!1},isSnSSelectedAccordionForDeviceType:function(b,c){b=b.selectedRow.rowName;return c===a.DEVICE_TYPE.DESKTOP?b===a.SNS_ACCORDION_ROW_NAME_DESKTOP:c===a.DEVICE_TYPE.MOBILE?b===a.SNS_ACCORDION_ROW_NAME_MOBILE:c===a.DEVICE_TYPE.MOBILE_APP?b===a.SNS_ACCORDION_ROW_NAME_MOBILE_APP:!1}}});n.when("A","a-dropdown",
"sns-onmlv2-utils","sns-buybox-constants").register("sns-vmf-utils",function(e,b,a,d){var c=e.$;return{updateFrequencyIndex:function(a){var d=c("[name\x3drcxOrdFreqSns]")[0].options[a].value;a=c("[name\x3drcxOrdFreqOnml]")[0].options[a].value;b.getSelect(c("[name\x3drcxOrdFreqSns]")).setValue(d);b.getSelect(c("[name\x3drcxOrdFreqOnml]")).setValue(a)},selectFrequency:function(b,f){c(".sns-delivery-buybox-upsell-message").html(b.upsellInformation.message);c(".sns-delivery-buybox-upsell-additional-message-title").html(b.upsellInformation.additionalMessageTitle);
c(".sns-delivery-buybox-upsell-additional-message").html(b.upsellInformation.additionalMessage);if("sns"===f){c(".onml-delivery-link").addClass("aok-hidden");if(-1<b.value.indexOf("W|")){c(".sns-delivery-link").addClass("aok-hidden");c(".sns-delivery-link-weekly").removeClass("aok-hidden");var e=c(".sns-delivery-link-weekly").html()}else c(".sns-delivery-link").removeClass("aok-hidden"),c(".sns-delivery-link-weekly").addClass("aok-hidden"),e=c(".sns-delivery-link").html();c(d.ACCORDION_HEADER_DELIVERY_OPTION_SNS_LINK).html(e);
c(d.ACCORDION_HEADER_DELIVERY_OPTION_ONML_LINK).addClass("aok-hidden");c(d.ACCORDION_HEADER_DELIVERY_OPTION_SNS_LINK).removeClass("aok-hidden");c(d.SNS_DELIVERY_OPTION_SNS_LINK_TEXT_IDENTIFIER).removeClass("aok-hidden");c(d.SNS_DELIVERY_OPTION_ONML_LINK_TEXT_IDENTIFIER).addClass("aok-hidden")}else c(".sns-delivery-link").addClass("aok-hidden"),c(".sns-delivery-link-weekly").addClass("aok-hidden"),c(".onml-delivery-link").removeClass("aok-hidden"),c(d.ACCORDION_HEADER_DELIVERY_OPTION_ONML_LINK).removeClass("aok-hidden"),
c(d.ACCORDION_HEADER_DELIVERY_OPTION_SNS_LINK).addClass("aok-hidden"),c(d.SNS_DELIVERY_OPTION_SNS_LINK_TEXT_IDENTIFIER).addClass("aok-hidden"),c(d.SNS_DELIVERY_OPTION_ONML_LINK_TEXT_IDENTIFIER).removeClass("aok-hidden");b=b.highlightedDiscount;var e=a.getDiscountTypeParam(),h=null!=a.getIsB2bDiscountWinningMap()&&!0===a.getIsB2bDiscountWinningMap()[0],p=null!=a.getIsB2bDiscountWinningMap()&&!0===a.getIsB2bDiscountWinningMap()[1];0===b?(c("#subscriptionPrice \x3e #sns-base-price").removeClass("aok-hidden"),
c("#subscriptionPrice \x3e #sns-tiered-price").addClass("aok-hidden"),c("#snsDetailPagePrice \x3e #sns-base-price").removeClass("aok-hidden"),c("#snsDetailPagePrice \x3e #sns-tiered-price").addClass("aok-hidden"),c(d.SNS_BASE_DISCOUNT_MESSAGE).removeClass("aok-hidden"),c(d.SNS_TIERED_DISCOUNT_MESSAGE).addClass("aok-hidden"),c(".discountPillLeft").addClass("pillLightUp"),c(".discountPillRight").removeClass("pillLightUp"),e===d.DISCOUNT_TYPE_ZERO_BASE||h?c("#snsDiscountPill").addClass("aok-hidden"):
c("#snsDiscountPill").removeClass("aok-hidden"),h?(c(".sns-ab-price-win-delivery-buybox-upsell-message").removeClass("aok-hidden"),c(".sns-delivery-buybox-upsell-message").addClass("aok-hidden"),c(".sns-delivery-buybox-upsell-additional-message-title").addClass("aok-hidden"),c(".sns-delivery-buybox-upsell-additional-message").addClass("aok-hidden")):(c(".sns-ab-price-win-delivery-buybox-upsell-message").addClass("aok-hidden"),c(".sns-delivery-buybox-upsell-message").removeClass("aok-hidden"),c(".sns-delivery-buybox-upsell-additional-message-title").removeClass("aok-hidden"),
c(".sns-delivery-buybox-upsell-additional-message").removeClass("aok-hidden"))):(c("#subscriptionPrice \x3e #sns-base-price").addClass("aok-hidden"),c("#subscriptionPrice \x3e #sns-tiered-price").removeClass("aok-hidden"),c("#snsDetailPagePrice \x3e #sns-base-price").addClass("aok-hidden"),c("#snsDetailPagePrice \x3e #sns-tiered-price").removeClass("aok-hidden"),c(d.SNS_BASE_DISCOUNT_MESSAGE).addClass("aok-hidden"),c(d.SNS_TIERED_DISCOUNT_MESSAGE).removeClass("aok-hidden"),c(".discountPillLeft").removeClass("pillLightUp"),
c(".discountPillRight").addClass("pillLightUp"),e===d.DISCOUNT_TYPE_ZERO_BASE&&"onml"===f||p?c("#snsDiscountPill").addClass("aok-hidden"):c("#snsDiscountPill").removeClass("aok-hidden"),p?(c(".sns-ab-price-win-delivery-buybox-upsell-message").removeClass("aok-hidden"),c(".sns-delivery-buybox-upsell-message").addClass("aok-hidden"),c(".sns-delivery-buybox-upsell-additional-message-title").addClass("aok-hidden"),c(".sns-delivery-buybox-upsell-additional-message").addClass("aok-hidden")):(c(".sns-ab-price-win-delivery-buybox-upsell-message").addClass("aok-hidden"),
c(".sns-delivery-buybox-upsell-message").removeClass("aok-hidden"),c(".sns-delivery-buybox-upsell-additional-message-title").removeClass("aok-hidden"),c(".sns-delivery-buybox-upsell-additional-message").removeClass("aok-hidden")),e===d.DISCOUNT_TYPE_ZERO_BASE&&"sns"===f&&(f=a.getSubscriberDiscountMessageWeblabTreatment(),"undefined"===typeof f||null===f?a.emitMetric("snsSdmExperimentTreatmentUndefined"):(a.recordWeblabTriggers(d.SUBSCRIBER_DISCOUNT_MESSAGE_EXPERIMENT_ID,f),a.emitMetric("snsSdmExperimentTriggeringSuccess"))))},
getFrequencyValueExcludingDeliveryType:function(a){if(null!==a&&"string"===typeof a)return a.replace(/\|(.*)/,"")},getQuantityIndex:function(){var a=e.$(d.SNS_QUANTITY);try{var b=a.prop("selectedIndex");if(0===b)return b;if(0<b)return b-("a-prompt"===a[0].options[0].className?1:0)}catch(c){l.ue&&l.ue.count("snsQuantityIndexException",(ue.count("snsQuantityIndexException")||0)+1)}}}});n.when("A","sns-buybox-constants","ready").register("sns-accessibilty-handler",function(e,b){var a=e.$;e=[b.SNS_QUANTITY,
b.SNS_FREQUENCY_FORM_FIELD];var d=function(b){!b||!b instanceof a||0===b.length||b.attr("tabIndex",0)};d(a(b.DSK_BB+", "+b.SNS_CBB_ACCORDION_ROW+", "+b.DSK_BB_DPV1).find(e.join()));return{setZeroTabIndex:d}});n.when("ready").register("sns-stringify-util",function(){return JSON&&"function"===typeof JSON.stringify?JSON.stringify:function(){var e={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},b=/[\\"\u0000-\u001F\u2028\u2029]/g,a=Object.prototype.toString,d=Array.isArray||
function(b){return"[object Array]"===a.call(b)},c=function(a){return e[a]||"\\u"+(a.charCodeAt(0)+65536).toString(16).substr(1)};return function f(e){if(null===e)return"null";if("number"===typeof e)return isFinite(e)?e.toString():"null";if("boolean"===typeof e)return e.toString();if("object"===typeof e){if("function"===typeof e.toJSON)return f(e.toJSON());if(d(e)){for(var h="[",p=0;p<e.length;p++)h+=(p?", ":"")+f(e[p]);return h+"]"}if("[object Object]"===a.call(e)){h=[];for(p in e)e.hasOwnProperty(p)&&
h.push(f(p)+": "+f(e[p]));return"{"+h.join(", ")+"}"}}return'"'+e.toString().replace(b,c)+'"'}}()});n.when("A","sns-stringify-util","ready").register("sns-declarative-util",function(e,b){function a(a){return a&&("object"===typeof a||"object"===typeof a.prototype)}function d(){for(var a=0;a<arguments.length;a++)if("string"!==typeof arguments[a])throw"Function parameter must be of type string.";}function c(){for(var a=Object.prototype.toString,b=Array.isArray||function(b){return"[object Array]"===a.call(b)},
c=0;c<arguments.length;c++){var e=arguments[c];if(b(e)&&0<e.length)for(var g=0;g<e.length;g++)d(e[g]);else throw"Function parameter must be a non empty array.";}}function g(c){var d="data-"+c.getAttribute("data-action"),g=function(){var a=c.getAttribute(d),g=a?e.parseJSON(a):{};g.save=function(){var a=g.save;delete g.save;var e=b(g);c.setAttribute(d,e);g.save=a};return g};return{hasExactKeyHeirarchy:function(b,c){var d=g();b=b.split(".");for(var f=0<b.length,e=0;e<b.length&&f;e++)var k=b[e],f=a(d)&&
d.hasOwnProperty(k),d=d[k];f&&c!==r&&(f=d===c);return f},hasParsableJSON:function(){try{return g().save(),!0}catch(a){return!1}},put:function(b){var c=g();a(c.inputs)||(c.inputs={});e.$.each(b,function(a,b){c.inputs[a]=b});c.save()},getData:g}}return{query:function(b){c(b);var k=[],h=[],p=[],m,q,l=function(){return{numberOfMatchingActions:k.length,allMatchKeyValue:function(a,b){d(a);for(var c=0<this.numberOfMatchingActions,f=0;f<this.numberOfMatchingActions&&c;f++)c=(c=k[f])&&c.hasExactKeyHeirarchy(a,
b);return c},putAll:function(a){for(var b=0;b<this.numberOfMatchingActions;b++)k[b].put(a)},getStrings:function(){for(var a=0;a<this.numberOfMatchingActions;a++){var b=k[a];if(b.getData().strings)return b.getData().strings}return[]},getData:function(){for(var a=0;a<this.numberOfMatchingActions;a++){var b=k[a];if(b.getData())return b.getData()}return[]}}},n=function(){for(var c=e.$("#buybox").find(".a-declarative").get(),d=0<h.length,m=0;m<c.length;m++){var q=c[m],n;a:{n=q;for(var r=b,x=0;x<r.length;x++){var u;
var v=n;u=r[x];a(v)&&"string"===typeof u?(v=v.getAttribute("data-action")||"",u=0===u.localeCompare(v)):u=!1;if(u){n=!0;break a}}n=!1}if(n&&(q=g(q),q.hasParsableJSON()))if(d){n=!0;for(r=0;r<h.length&&n;r++)n=q.hasExactKeyHeirarchy(h[r],p[r]);n&&k.push(q)}else k.push(q)}return l()};m=function(a){d(a);h.push(a);return{equals:q,equalsAny:function(){return q(r)}}};q=function(a){p.push(a);return{where:m,execute:n}};return{where:m,execute:n}}}});n.when("A","sns-utils","sns-buybox-constants","sns-declarative-util").register("sns-atc-utils",
function(e,b,a,d){var c=e.$,g=["aw-mash","add-to-cart","one-click","show-services-interstitial"],f=function(a){d.query(g).where("buttonID").equals("add-to-cart").execute().putAll(a);d.query(g).where("buttonID").equals("buy-now").execute().putAll(a);d.query(g).where("buttonID").equals("buy-now-one-click").execute().putAll(a)};return{initializeOnmlDeclaratives:function(){if(b.isSnSEligible()){var d=b.getAStateFromDom(a.SNS_OPT_IN_FEATURE_DIV,"sns-add-to-cart-params","addToCartParams");f(d||{});c("\x3cinput type\x3dhidden value\x3dtrue \x3e").prop("id",
a.SNS_ONML_INIT_INPUT_ID).appendTo(a.SNS_OPT_IN_FEATURE_DIV)}},setOnmlDeclaratives:f,getAddToCartStrings:function(){return d.query(g).where("buttonID").equals("add-to-cart").execute().getStrings()},getAddToCartData:function(){return d.query(g).where("buttonID").equals("add-to-cart").execute().getData()}}});n.when("A","sns-utils","sns-constants","sns-atc-utils").register("sns-atc",function(e,b,a,d){return{init:function(){b.registerCallbackForNameSpace(a.EVENT_NAMESPACE.PAGE_UPDATE,d.initializeOnmlDeclaratives);
d.initializeOnmlDeclaratives()}}});n.when("A","sns-buybox-constants","sns-onmlv2-utils","sns-moq-helper").register("sns-onmlv2-atc",function(e,b,a,d){function c(c){if(d.isSnsLocked())a.emitMetric("sns-onmlv2-atc-sns-locked-moq");else{var e=g("\x3cform\x3e",{method:b.SUBSCRIBE_ADD_TO_CART_FORM_ATTRIBUTES.method,action:b.SUBSCRIBE_ADD_TO_CART_FORM_ATTRIBUTES.action,id:b.SUBSCRIBE_ADD_TO_CART_FORM_ATTRIBUTES.id,name:b.SUBSCRIBE_ADD_TO_CART_FORM_ATTRIBUTES.name}),h="";if(a.isCbbTemplateEnabled()){a.emitMetric("sns-onmlv2-atc-cbb-template-enabled");
for(var p=[{name:"ASIN"},{name:"offerListingID",fieldName:"snsOfferListingID"},{name:"snsAddressId"},{name:"snsOnmlOfferId"},{name:"snsMostCommonFrequency"},{name:"rcxOrdFreq"},{name:"quantity"}],m=0;m<p.length;m++)var q=p[m].name,l=p[m].fieldName?p[m].fieldName:q,l=a.getOnmlv2FormValueByName(l),h=h+a.createHiddenInput(q,l)}else{a.emitMetric("sns-onmlv2-atc-cbb-template-not-enabled");a.removeFormFieldsIntroducedByCbb();p=[{name:"ASIN"},{name:"offerListingID",fieldName:"snsOfferListingID"},{name:"rcxOrdFreq"},
{name:"snsOnmlOfferId"},{name:"snsMostCommonFrequency"},{name:"snsAddressId"}];for(m=0;m<p.length;m++)q=p[m].name,l=p[m].fieldName?p[m].fieldName:q,l=a.isMobileDevice()?g(b.MOBILE_ADD_TO_CART_DIV+" [name\x3d"+l+"]").val():a.isWeb()?g(b.ADD_TO_CART_DIV+" [name\x3d"+l+"]").val():g(b.TABLET_ADD_TO_CART_DIV+" [name\x3d"+l+"]").val(),h+=a.createHiddenInput(q,l);p=a.isMobileDevice()?g(b.SNS_MOBILE_QUANTITY):g(b.QUANTITY_CONTAINER).find(b.SNS_QUANTITY);h+=a.createHiddenInput("quantity",p.val())}h+=a.createHiddenInput("ref",
c);h+=a.createHiddenInput("submit.add-to-cart","1");e.html(h);g("body").append(e);g(b.SNS_ADD_TO_CART_FORM).submit();g(b.SNS_ADD_TO_CART_FORM).remove()}}var g=e.$;e.declarative("sns-add-to-cart","click",function(b){a.emitMetric("sns-onmlv2-atc-sns-add-to-cart");c("onmlv2_atc")});return{createAndSubmitAddToCartForm:c}});n.when("A","sns-utils","sns-constants","sns-buybox-constants","sns-atc-utils").register("sns-buybox-utils",function(e,b,a,d){var c=function(a){if(0<a.length)return a.innerWidth()<a[0].scrollWidth},
g=function(c,d,g){d=c+"_"+(g?"checkedLabel":"uncheckedLabel")+"_"+("oneClick"===c?d:"all");c=b.getOnmlParam(d);d=(g=b.getOnmlUserPref(a.USER_PREFS_KEYS.ONML_PARAMS))&&g[d];if(c=c||d)return e.$("\x3cp\x3e"+c+"\x3c/p\x3e").text()};return{updateOneClickButtonLabel:function(a){if(b.isVerucaOneClickEnabled()){a="boolean"===typeof a?a:e.$(d.SNS_OPT_IN_CHECKBOX).is(":checked");var k=e.$(d.ONE_CLICK_BUTTON),h=e.$(d.ONE_CLICK_BUTTON_ICON),p=e.$(d.ONE_CLICK_BUTTON_TEXT),m=b.getDeviceType(),q=g("oneClick",m,
!0),m=g("oneClick",m,!1);q&&m&&(a?(p.text(q),c(p)&&(h.addClass("aok-hidden"),k.removeClass("a-button-icon"))):(p.text(m),h.length&&(k.addClass("a-button-icon"),h.removeClass("aok-hidden"))))}},updateBuyNowButtonLabel:function(a){if(b.isVerucaBuyNowEnabled()){a="boolean"===typeof a?a:e.$(d.SNS_OPT_IN_CHECKBOX).is(":checked");var k=e.$(d.BUY_NOW_BUTTON),h=e.$(d.BUY_NOW_BUTTON_ICON),p=e.$(d.BUY_NOW_BUTTON_TEXT),m=b.getDeviceType(),q=g("buyNow",m,!0),m=g("buyNow",m,!1);q&&m&&(a?(p.text(q),c(p)&&(h.addClass("aok-hidden"),
k.removeClass("a-button-icon"))):(p.text(m),h.length&&(k.addClass("a-button-icon"),h.removeClass("aok-hidden"))))}},updateAddToCartButtonLabel:function(a){a="boolean"===typeof a?a:e.$(d.SNS_OPT_IN_CHECKBOX).is(":checked");var k=e.$(d.ADD_TO_CART_BUTTON).closest(".a-button"),h=k.find(".a-button-inner"),p=k.find("i.a-icon"),m=k.find("span.a-button-text"),q=b.getDeviceType(),l=g("addToCart",q,!0),q=g("addToCart",q,!1);l&&q&&(a?(m.text(l),h.addClass("sns-onml-sky-button-inner"),m.addClass("sns-onml-sky-button-text"),
c(m)&&(p.addClass("aok-hidden"),k.removeClass("a-button-icon"))):(m.text(q),h.removeClass("sns-onml-sky-button-inner"),m.removeClass("sns-onml-sky-button-text"),p.length&&(k.addClass("a-button-icon"),p.removeClass("aok-hidden"))))},showSnSMerchantInfoIfSnSOptInChecked:function(a){var b=e.$(d.SNS_ONML_MERCHANT_INFO);a="boolean"===typeof a?a:e.$(d.SNS_OPT_IN_CHECKBOX).is(":checked");b.toggleClass("aok-hidden",!a)},showGoldBoxDiscountMessageIfSnSOptInChecked:function(a){var b=e.$(d.GOLDBOX_DISCOUNT_MESSAGE);
a="boolean"===typeof a?a:e.$(d.SNS_OPT_IN_CHECKBOX).is(":checked");b.toggleClass("aok-hidden",!a)},showSubscribeOnlyButtonIfSnSOptInChecked:function(a){var b=e.$(d.JUST_SUBSCRIBE_DIV);a="boolean"===typeof a?a:e.$(d.SNS_OPT_IN_CHECKBOX).is(":checked");b.toggleClass("aok-hidden",!a)},logError:function(a,b){l.ueLogError&&l.ueLogError(a,{logLevel:"ERROR",attribution:b,message:a})}}});n.when("A","sns-buybox-constants","sns-onmlv2-utils","ready").execute("sns-onmlv2-join-prime",function(e,b,a){var d=e.$,
c=function(){d(b.SNS_ONMLV2_JOIN_PRIME_CHECKBOX).length&&(d(b.SNS_ONMLV2_JOIN_PRIME_UPSELL).removeClass("aok-hidden"),d(b.SNS_ONMLV2_JOIN_PRIME_CHECKBOX).is(":checked")?(d(b.SNS_ONMLV2_JOIN_PRIME_BUTTON).removeClass("aok-hidden"),d(b.SNS_SUBSCRIBE_SUBMIT_BUTTON).addClass("aok-hidden")):(d(b.SNS_ONMLV2_JOIN_PRIME_BUTTON).addClass("aok-hidden"),d(b.SNS_SUBSCRIBE_SUBMIT_BUTTON).removeClass("aok-hidden")))};c();d(document).delegate(b.SNS_ONMLV2_JOIN_PRIME_CHECKBOX,"change",function(a){c()});e.declarative("sns-join-prime",
"click",function(c){c=e.state("momJoinPrimeEndpointState");c=d("\x3cform\x3e",{method:b.SNS_JOIN_PRIME_FORM_ATTRIBUTES.method,action:c&&c.endpoint?c.endpoint:"/gp/prime/pipeline/membersignup/",id:b.SNS_JOIN_PRIME_FORM_ATTRIBUTES.id,name:b.SNS_JOIN_PRIME_FORM_ATTRIBUTES.name});for(var f="",k=[{name:"session-id"},{name:"momAsin"},{name:"ref"}],h=0;h<k.length;h++)var p=k[h].name,m=a.getSubscribeButtonFormValueByName(p),f=f+a.createHiddenInput(p,m);c.html(f);d("body").append(c);d(b.SNS_JOIN_PRIME_FORM).submit();
d(b.SNS_JOIN_PRIME_FORM).remove()})});n.when("A","ready").execute("sns-load-static-images",function(e){var b=e.$;b("#learnMoreBottomSheet .a-manually-loaded").each(function(){e.loadImageManually(b(this))})});n.when("A","sns-buybox-constants","sns-onmlv2-utils").execute("sns-legacy-subscribe",function(e,b,a){var d=e.$;e.declarative("sns-legacy-subscribe","click",function(c){c=d("\x3cform\x3e",{method:b.SNS_LEGACY_SUBSCRIBE_FORM_ATTRIBUTES.method,action:b.SNS_LEGACY_SUBSCRIBE_FORM_ATTRIBUTES.action,
id:b.SNS_LEGACY_SUBSCRIBE_FORM_ATTRIBUTES.id,name:b.SNS_LEGACY_SUBSCRIBE_FORM_ATTRIBUTES.name});for(var e="",f=[{name:"ASIN"},{name:"offerListingID"},{name:"merchantID"},{name:"snsOfferListingID"},{name:"snsMerchantID"},{name:"rcxOrdFreq"},{name:"quantity"}],k=0;k<f.length;k++)var h=f[k].name,p=a.getSubscribeButtonFormValueByName(h),e=e+a.createHiddenInput(h,p);e+=a.createHiddenInput("ref","sns-legacy-subscribe");e+=a.createHiddenInput("submit.rcx-subscribe","1");c.html(e);d("body").append(c);d(b.SNS_LEGACY_SUBSCRIBE_FORM).submit();
d(b.SNS_LEGACY_SUBSCRIBE_FORM).remove()})});n.when("A","sns-subscribe-button-trigger-handler","sns-subscribe-button-utils","sns-constants").execute("sns-subscribe-button",function(e,b,a,d){e.declarative("sns-submit-btn-declarative","click",function(c){a.emitMetric("sns-subscribe-button-sns-submit-btn-declarative-called");b.triggerInterstitialWeblabIfEligible(d.WEBLAB_TREATMENT.C);a.createAndSubmitSubscribeNowForm("sns-subscribe-btn-dp-vmf-")});e.declarative("sns-subscribe-poi-declarative","click",
function(b){a.emitMetric("sns-subscribe-button-sns-subscribe-poi-declarative-called");a.createAndSubmitSubscribeNowForm(b.data.refTag)});e.declarative("sns-mom-submit-btn-declarative","click",function(b){a.emitMetric("sns-subscribe-button-sns-mom-submit-btn-declarative-called");a.createAndSubmitSubscribeNowForm("sns-mom-btn-dp-vmf-")})});n.when("A","sns-onmlv2-utils","sns-metrics-constants","ready").register("sns-subscribe-button-trigger-handler",function(e,b,a){var d=!1;return{triggerInterstitialWeblabIfEligible:function(c){var g;
try{g=e.state("subscribe-now-interstitial-experience-enabled")}catch(f){b.logErrorWithAttribution("sns-subscribe-button-trigger-handler","Exception "+f+" caught while getting subscribe-now-interstitial-experience-enabled page state")}if(null==g)b.emitMetric(a.SNS_SUBSCRIBE_NOW_INTERSTITIAL_ELIGIBLE_STATE_EXCEPTION_METRICS);else if(!0===g.value)return d||(b.recordWeblabTriggers("A2I_SNS_DP_SUBSCRIBE_NOW_INTERSTITIAL_830984",c),b.emitMetric("A2I_SNS_DP_SUBSCRIBE_NOW_INTERSTITIAL_830984"+a.METRIC_DELIMITER+
c+a.METRIC_DELIMITER+"WeblabTriggered"),d=!0),!0;return!1}}});n.when("A","sns-buybox-constants","sns-onmlv2-utils","sns-moq-helper","sns-metrics-constants").register("sns-subscribe-button-utils",function(e,b,a,d,c){var g=e.$;return{emitMetric:function(a){l.ue&&l.ue.count(a,(ue.count(a)||0)+1)},createAndSubmitSubscribeNowForm:function(f){if(!d.isSnsLocked()){var k,h;g("#chkMom").length&&g("#chkMom").is(":checked")?(k=g("\x3cform\x3e",{method:b.SNS_JOIN_PRIME_FORM_ATTRIBUTES_VMF.method,action:b.SNS_JOIN_PRIME_FORM_ATTRIBUTES_VMF.action,
id:b.SNS_JOIN_PRIME_FORM_ATTRIBUTES_VMF.id,name:b.SNS_JOIN_PRIME_FORM_ATTRIBUTES_VMF.name}),h=b.SNS_JOIN_PRIME_FORM_ATTRIBUTES_VMF.id):(k=g("\x3cform\x3e",{method:b.SUBSCRIBE_FORM_ATTRIBUTES.method,action:b.SUBSCRIBE_FORM_ATTRIBUTES.action,id:b.SUBSCRIBE_FORM_ATTRIBUTES.id,name:b.SUBSCRIBE_FORM_ATTRIBUTES.name}),h=b.SUBSCRIBE_FORM_ATTRIBUTES.id);for(var p="",m=b.SUBSCRIBE_FORM_FIELDS,l=0;l<m.length;l++)var n=m[l].name,N=g("[name\x3d'"+(m[l].fieldName?m[l].fieldName:n)+"']").val(),p=p+a.createHiddenInput(n,
N);m=e.$(b.SNS_MOBILE_QUANTITY);if(m===r||m.val()===r)if(m=g("[name\x3d'rcxsubsQuan']"),m===r||m.val()===r)m=g("[id\x3d'rcxsubsQuan']");l=!g("#rcxOrdFreqOnmlWrapper").hasClass("aok-hidden");l||(n=a.getDeliveryInfoParam().snsDates[g("[name\x3drcxOrdFreqSns]").prop("selectedIndex")],p+=a.createHiddenInput("snsDate",n));p+=a.createHiddenInput("onmlSelected",l);p+=a.createHiddenInput("vmfEnabled","true");p+=a.createHiddenInput("quantity",m.val());p+=a.createHiddenInput("ref",f+(l?"onml":"sns"));p+=a.createHiddenInput("submit.subscribe",
"1");k.html(p);g("body").append(k);a.emitInvalidFrequencyMetric(c.SNS_ONML_INVALID_FREQUENCY_SELECT_METRICS,c.SNS_LEGACY_INVALID_FREQUENCY_SELECT_METRICS);g("#"+h).submit();g("#"+h).remove()}}}});"use strict";n.when("A").register("sns-upsell-message-trigger-handler",function(e){function b(){var a=e.$(".a-accordion-active").data("a-accordion-row-name");return"snsAccordionRowMiddle"===a||"snsAccordionRowMobileMiddle"===a||"snsAccordionRowMobileAppMiddle"===a}var a=!1,d=function(a,b){l.ue&&"function"===
typeof l.ue.trigger&&l.ue.trigger(a,b)},c=function(a){l.ue&&l.ue.count(a,(ue.count(a)||0)+1)};return{handleAnnualSavingsExperimentTriggering:function(g,f){try{a||null===g||0===g.length||(b()?(d("CONSUMABLES_SNS_DP_ANNUAL_SAVINGS_EXPERIMENT_713035",f),a=!0,c("snsAnnualSavingsWeblabTriggeringSuccess")):c("snsAccordionNotActiveForAnnualSavingsExperiment"))}catch(k){c("snsAnnualSavingsWeblabTriggeringFailure")}e.on("a:accordion:buybox-accordion:select",function(b){try{if(!a&&null!==g&&0!==g.length){var e=
b.selectedRow.rowName;"snsAccordionRowMiddle"===e||"snsAccordionRowMobileMiddle"===e||"snsAccordionRowMobileAppMiddle"===e?(d("CONSUMABLES_SNS_DP_ANNUAL_SAVINGS_EXPERIMENT_713035",f),a=!0,c("snsAnnualSavingsWeblabTriggeringSuccess")):c("snsAccordionNotSelectedForAnnualSavingsExperiment")}}catch(p){c("snsAnnualSavingsWeblabTriggeringFailure")}})}}});n.register("sns-constants",function(){return{TIERED:"tiered",NON_TIERED:"nonTiered",BASE:"BASE",PREMIUM:"PREMIUM",ZERO_BASE:"ZERO_BASE",EVENT_NAMESPACE:{PAGE_UPDATE:"pageUpdate",
FREQUENCY_HIDDEN_INPUT_CHANGE:"frequencyHiddenInputChange"},USER_PREFS_KEYS:{SNS_OPT_IN:"snsOptIn",SNS_FREQUENCY:"rcxOrdFreq",ONML_PARAMS:"onmlParams"},DELIVERY_OPTION:{SNS:"sns",ONML:"onml"},WEBLAB_TREATMENT:{C:"C",T1:"T1",T2:"T2"},DEVICE_TYPE:{DESKTOP:"desktop",MOBILE:"mobile",MOBILE_APP:"mobile_app"},ACCORDION_ROW_NAME_SELECTOR:"a-accordion-row-name",ACTIVE_ACCORDION_SELECTOR:".a-accordion-active",SNS_ACCORDION_ROW_NAME_DESKTOP:"snsAccordionRowMiddle",SNS_ACCORDION_ROW_NAME_MOBILE:"snsAccordionRowMobileMiddle",
SNS_ACCORDION_ROW_NAME_MOBILE_APP:"snsAccordionRowMobileAppMiddle"}});n.when("A","sns-utils","sns-constants","sns-buybox-constants").register("sns-event-handler",function(e,b,a,d){return{init:function(){function c(a){for(var b=e.$("\x3cform\x3e",{method:d.SUBSCRIBE_ONLY_FORM_ATTRIBUTES.method,action:d.SUBSCRIBE_ONLY_FORM_ATTRIBUTES.action,id:d.SUBSCRIBE_ONLY_FORM_ATTRIBUTES.id,name:d.SUBSCRIBE_ONLY_FORM_ATTRIBUTES.name}),c=[{name:"ASIN"},{name:"offerListingID"},{name:"merchantID"},{name:"rcxOrdFreq"},
{name:"snsOfferListingID"},{name:"snsMerchantID"}],h="",p=0;p<c.length;p++)var m=c[p].name,l=e.$("[name\x3d"+m+"]").val(),h=h+('\x3cinput type\x3d"hidden" name\x3d"'+m+'" value\x3d"'+l+'"\x3e');h=h+('\x3cinput type\x3d"hidden" name\x3d"ref" value\x3d"'+a+'"\x3e')+'\x3cinput type\x3d"hidden" name\x3d"submit.rcx-subscribe" value\x3d"1"\x3e';a=e.$(d.QUANTITY_CONTAINER).find(d.QUANTITY);h+='\x3cinput type\x3d"hidden" name\x3d"quantity" value\x3d"'+a.val()+'"\x3e';b.html(h);e.$("body").append(b);e.$(d.SUBSCRIBE_ONLY_FORM).submit()}
b.isSnSEligible()&&b.setOnmlUserPref(a.USER_PREFS_KEYS.ONML_PARAMS,b.getOnmlParam());b.registerCallbackForNameSpace(a.EVENT_NAMESPACE.PAGE_UPDATE,function(){var c=b.getOnmlUserPref(a.USER_PREFS_KEYS.ONML_PARAMS)||{},f=c.asin,k=b.getOnmlParam("asin");c.asin=k;b.setOnmlUserPref(a.USER_PREFS_KEYS.ONML_PARAMS,c);c=f!==k;f=b.getOnmlUserPref(a.USER_PREFS_KEYS.SNS_OPT_IN);"undefined"!==typeof f&&e.$(d.SNS_OPT_IN_CHECKBOX).is(":checked")!==f&&(b.enableSnSOptIn(),e.$(d.SNS_OPT_IN_CHECKBOX).click());(f=b.getOnmlUserPref(a.USER_PREFS_KEYS.SNS_FREQUENCY))&&
!c?b.isMobileDevice()?e.$(d.SNS_FREQ_BOTTOMSHEET_SELECTOR).find("button[value\x3d"+f+"]").click():e.$("[data-a-accordion-row-name\x3dfrequencyAccordionRow"+(f-1)+"] a").click():b.deleteOnmlUserPref(a.USER_PREFS_KEYS.SNS_FREQUENCY)});e.$(d.SNS_FREQUENCY_FORM_FIELD).change(function(){b.executeCallbacksForNameSpace(a.EVENT_NAMESPACE.FREQUENCY_HIDDEN_INPUT_CHANGE)});e.on("a:pageUpdate",function(){b.executeCallbacksForNameSpace(a.EVENT_NAMESPACE.PAGE_UPDATE)});e.declarative("subscribe-only","click",function(a){c("onml_so_l")});
e.declarative("just-subscribe","click",function(a){c("onml_justsub_l")})}}});n.register("sns-metrics-constants",function(){return{METRIC_DELIMITER:".",B2B_BUY_BOX_MESSAGE_UPDATE_SUCCESSFUL:"b2bBuyBoxMessageUpdateSuccessful",B2B_BUY_BOX_MESSAGE_UPDATE_FAILED:"b2bBuyBoxMessageUpdateFailed",SNS_ONML_EXISTING_SNS_CUSTOMER_CHECK_METRICS:"snsOnmlExistingSnsCustomerCheck",SNS_ONML_NEW_SNS_CUSTOMER_CHECK_METRICS:"snsOnmlNewSnsCustomerCheck",SNS_ONML_EXISTING_SNS_CUSTOMER_UNCHECK_METRICS:"snsOnmlExistingSnsCustomerUncheck",
SNS_ONML_NEW_SNS_CUSTOMER_UNCHECK_METRICS:"snsOnmlNewSnsCustomerUncheck",SNS_SIGN_IN_IF_NOT_ALREADY_SIGNED_IN_METRICS:"snsSignInIfNotAlreadySignedIn",SNS_ONML_FREQUENCY_LABEL_CLICK_METRICS:"snsOnmlFrequencyLabelClick",SNS_ONML_FREQUENCY_CHANGE_METRICS:"snsOnmlFrequencyChange",SNS_ONML_WEEKLY_FREQUENCY_SELECT_METRICS:"snsOnmlWeeklyFrequencySelectMetrics",SNS_ONML_MONTHLY_FREQUENCY_SELECT_METRICS:"snsOnmlMonthlyFrequencySelectMetrics",SNS_ONML_INVALID_FREQUENCY_SELECT_METRICS:"snsOnmlInvalidFrequencySelectMetrics",
B2B_ONML_WEEKLY_FREQUENCY_SELECT_METRICS:"b2bOnmlWeeklyFrequencySelectMetrics",B2B_ONML_MONTHLY_FREQUENCY_SELECT_METRICS:"b2bOnmlMonthlyFrequencySelectMetrics",SNS_LEGACY_WEEKLY_FREQUENCY_SELECT_METRICS:"snsLegacyWeeklyFrequencySelectMetrics",SNS_LEGACY_MONTHLY_FREQUENCY_SELECT_METRICS:"snsLegacyMonthlyFrequencySelectMetrics",SNS_LEGACY_INVALID_FREQUENCY_SELECT_METRICS:"snsLegacyInvalidFrequencySelectMetrics",SNS_ONML_UPSELL_MESSAGE_METRICS:"snsOnmlUpsellMessage",SNS_ONML_SUBSCRIBE_ONLY_METRICS:"snsOnmlSubscribeOnly",
SNS_CUSTOMER_RECOGNIZED_BUT_NOT_SIGNED_IN:"snsOnmlCustomerRecognizedButNotSignedIn",SNS_REQUIRE_SIGN_IN_STATUS_FAILED:"snsOnmlRequireSignInStatusFailed",SNS_ONMLV2_POPOVER_TRIGGERS:"justSubscribeLearnMorePopoverNonTiered justSubscribeLearnMorePopoverTiered onmlv2LearnMorePopoverNonTiered onmlv2LearnMorePopoverTiered onmlv2LearnMorePopoverNewOrUnrecognized justSubscribePillPopoverNonTiered justSubscribePillPopoverTiered onmlv2PillPopoverNonTiered onmlv2PillPopoverTiered onmlv2PillPopoverNewOrUnrecognized".split(" "),
SNS_ONMLV2_BOTTOMSHEET_TRIGGERS:"justSubscribeLearnMoreBottomsheetNonTiered justSubscribeLearnMoreBottomsheetTiered onmlv2LearnMoreBottomsheetNonTiered onmlv2LearnMoreBottomsheetTiered onmlv2LearnMoreBottomsheetNewOrUnrecognized justSubscribePillBottomsheetNonTiered justSubscribePillBottomsheetTiered onmlv2PillBottomsheetNonTiered onmlv2PillBottomsheetTiered onmlv2PillBottomsheetNewOrUnrecognized".split(" "),SNS_ONMLV2_DESKTOP_POPOVER_SHOW_METRICS:"snsOnmlv2DesktopPopoverShow",SNS_ONMLV2_MOBILE_BOTTOMSHEET_SHOW_METRICS:"snsOnmlv2MobileBottomsheetShow",
SNS_ONMLV2_DELIVERY_OPTION_CLICK_METRICS:"snsOnmlv2DeliveryOptionClick",SNS_ONMLV2_DELIVERY_OPTION_CLICK_MOBILE_METRICS:"snsOnmlv2DeliveryOptionClickMobile",SNS_ONMLV2_SWITCH_TO_SNS_METRICS:"snsOnmlv2SwitchToSns",SNS_ONMLV2_SWITCH_TO_ONML_METRICS:"snsOnmlv2SwitchToOnml",SNS_ONMLV2_SWITCH_TO_SNS_MOBILE_METRICS:"snsOnmlv2SwitchToSnsMobile",SNS_ONMLV2_SWITCH_TO_ONML_MOBILE_METRICS:"snsOnmlv2SwitchToOnmlMobile",SNS_ONMLV2_SUBSCRIBE_NOW_WITH_ONML_DELIVERY_METRICS:"snsOnmlv2SubscribeNowWithOnmlDelivery",
SNS_ONMLV2_SUBSCRIBE_NOW_WITH_SNS_DELIVERY_METRICS:"snsOnmlv2SubscribeNowWithSnsDelivery",SNS_ONMLV2_SUBSCRIBE_NOW_WITH_ONML_DELIVERY_MOBILE_METRICS:"snsOnmlv2SubscribeNowWithOnmlDeliveryMobile",SNS_ONMLV2_SUBSCRIBE_NOW_WITH_SNS_DELIVERY_MOBILE_METRICS:"snsOnmlv2SubscribeNowWithSnsDeliveryMobile",SNS_QUANTITY_SELECT_DESKTOP:"snsQuantitySelectDesktop",SNS_QUANTITY_SELECT_MOBILE:"snsQuantitySelectMobile",SNS_SWITCH_WIDGET_SEE_PRODUCTS_ONMLV2_METRICS:"snsSwitchWidgetSeeProductsOnmlv2",SNS_SWITCH_WIDGET_SEE_PRODUCTS_LEGACY_METRICS:"snsSwitchWidgetSeeProductsLegacy",
SNS_SWITCH_WIDGET_CONTINUE_LEGACY_METRICS:"snsSwitchWidgetContinueLegacy",SNS_SWITCH_WIDGET_CONTINUE_WITH_ONE_NOW_METRICS:"snsSwitchWidgetContinueWithOneNow",SNS_SWITCH_WIDGET_CONTINUE_WITH_SNS_METRICS:"snsSwitchWidgetContinueWithSns",SNS_SWITCH_WIDGET_BOTTOMSHEET_TOTAL_COUNT_METRICS:"snsSwitchWidgetBottomsheetTotalCount",SNS_SUBSCRIBE_NOW_INTERSTITIAL_BOTTOMSHEET_SWITCH_OFFER_METRICS:"snsSubscribeNowInterstitialBottomsheetSwitchOfferCount",SNS_SUBSCRIBE_NOW_INTERSTITIAL_BOTTOMSHEET_SHOW_METRICS:"snsSubscribeNowInterstitialBottomsheetShowCount",
SNS_SUBSCRIBE_NOW_INTERSTITIAL_BOTTOMSHEET_SUBSCRIBE_BUTTON_CLICK_METRIC:"snsSubscribeNowInterstitialBottomsheetSubscribeButtonClick",SNS_SUBSCRIBE_NOW_INTERSTITIAL_BOTTOMSHEET_CLOSE_METRICS:"snsSubscribeNowInterstitialBottomsheetCloseCount",SNS_SUBSCRIBE_NOW_INTERSTITIAL_ELIGIBLE_STATE_EXCEPTION_METRICS:"snsSubscribeNowInterstitialEligibleStateExceptionCount",SNS_ONMLV2_SUBSCRIBE_NOW_WITH_SAME_FREQ_AS_DEFAULT_FREQ:"snsOnmlv2SubscribeNowWithSameFreq",SNS_ONMLV2_SUBSCRIBE_NOW_WITH_DIFFERENT_FREQUENCY_OTHER_THAN_DEFAULT_FREQ:"snsOnmlv2SubscribeNowWithDifferentFreq"}});
n.when("A","sns-utils","sns-metrics-constants","sns-buybox-constants").register("sns-metrics-helper",function(e,b,a,d){return{init:function(){e.declarative("sns-opt-in-checked","change",function(){var c=e.$(d.SNS_OPT_IN_CHECKBOX).is(":checked");l.ue&&(c?b.isSnsCustomer()?l.ue.count(a.SNS_ONML_EXISTING_SNS_CUSTOMER_CHECK_METRICS,(ue.count(a.SNS_ONML_EXISTING_SNS_CUSTOMER_CHECK_METRICS)||0)+1):l.ue.count(a.SNS_ONML_NEW_SNS_CUSTOMER_CHECK_METRICS,(ue.count(a.SNS_ONML_NEW_SNS_CUSTOMER_CHECK_METRICS)||
0)+1):b.isSnsCustomer()?l.ue.count(a.SNS_ONML_EXISTING_SNS_CUSTOMER_UNCHECK_METRICS,(ue.count(a.SNS_ONML_EXISTING_SNS_CUSTOMER_UNCHECK_METRICS)||0)+1):l.ue.count(a.SNS_ONML_NEW_SNS_CUSTOMER_UNCHECK_METRICS,(ue.count(a.SNS_ONML_NEW_SNS_CUSTOMER_UNCHECK_METRICS)||0)+1))});e.$(document).delegate(".sns-buybox-upsell-trigger","click",function(b){l.ue&&l.ue.count(a.SNS_ONML_UPSELL_MESSAGE_METRICS,(ue.count(a.SNS_ONML_UPSELL_MESSAGE_METRICS)||0)+1)});e.$(document).delegate("#sns-dp-frequency-trigger","click",
function(b){l.ue&&l.ue.count(a.SNS_ONML_FREQUENCY_LABEL_CLICK_METRICS,(ue.count(a.SNS_ONML_FREQUENCY_LABEL_CLICK_METRICS)||0)+1)});e.$(document).delegate("#snsSelectedFrequencyLabel","click",function(b){l.ue&&l.ue.count(a.SNS_ONML_FREQUENCY_LABEL_CLICK_METRICS,(ue.count(a.SNS_ONML_FREQUENCY_LABEL_CLICK_METRICS)||0)+1)});e.on("a:accordion:sns-dp-frequency-accordion:select",function(){l.ue&&l.ue.count(a.SNS_ONML_FREQUENCY_CHANGE_METRICS,(ue.count(a.SNS_ONML_FREQUENCY_CHANGE_METRICS)||0)+1)});e.$(document).delegate("#snsFrequencyBottomSheet button",
"click",function(b){l.ue&&l.ue.count(a.SNS_ONML_FREQUENCY_CHANGE_METRICS,(ue.count(a.SNS_ONML_FREQUENCY_CHANGE_METRICS)||0)+1)});e.$(document).delegate("#subscribe-only","click",function(b){l.ue&&l.ue.count(a.SNS_ONML_SUBSCRIBE_ONLY_METRICS,(ue.count(a.SNS_ONML_SUBSCRIBE_ONLY_METRICS)||0)+1)})}}});n.when("A","sns-onmlv2-utils","sns-metrics-constants","sns-buybox-constants","sns-constants","sns-onmlv2-cache").register("sns-onmlv2-metrics-helper",function(e,b,a,d,c,g){var f=e.$,k="",h="";a.SNS_ONMLV2_POPOVER_TRIGGERS.forEach(function(a){k+=
" a:popover:beforeShow:"+a});a.SNS_ONMLV2_BOTTOMSHEET_TRIGGERS.forEach(function(a){h+=" a:sheet:beforeShow:"+a});e.declarative("sns-delivery-date","click",function(a){g.incrementDeliveryOptionClickCounter()});e.declarative("sns-delivery-date-bottom-sheet","click",function(a){g.incrementDeliveryOptionClickCounterMobile()});e.declarative("sns-delivery-change-btn","click",function(a){f(d.SNS_DELIVERY_OPTION_DIV).is(":checked")?g.incrementDeliveryOptionSwitchToSnsCounter():f(d.ONML_DELIVERY_OPTION_DIV).is(":checked")&&
g.incrementDeliveryOptionSwitchToOnmlCounter()});e.on("a:popover:beforeHide:sns-delivery-modal",function(b){m(a.SNS_ONMLV2_DELIVERY_OPTION_CLICK_METRICS,g.getDeliveryOptionClickCounter());m(a.SNS_ONMLV2_SWITCH_TO_SNS_METRICS,g.getDeliveryOptionSwitchToSnsCounter());m(a.SNS_ONMLV2_SWITCH_TO_ONML_METRICS,g.getDeliveryOptionSwitchToOnmlCounter());m(a.SNS_QUANTITY_SELECT_DESKTOP,g.getQuantityClickCounterDesktop())});e.on("a:sheet:beforeHide:sns_delivery_bottom_sheet",function(){m(a.SNS_ONMLV2_DELIVERY_OPTION_CLICK_MOBILE_METRICS,
g.getDeliveryOptionClickCounterMobile());f(d.SNS_DELIVERY_OPTION_DIV).is(":checked")?g.incrementDeliveryOptionSwitchToSnsCounterMobile():f(d.ONML_DELIVERY_OPTION_DIV).is(":checked")&&g.incrementDeliveryOptionSwitchToOnmlCounterMobile();m(a.SNS_ONMLV2_SWITCH_TO_SNS_MOBILE_METRICS,g.getDeliveryOptionSwitchToSnsCounterMobile());m(a.SNS_ONMLV2_SWITCH_TO_ONML_MOBILE_METRICS,g.getDeliveryOptionSwitchToOnmlCounterMobile());m(a.SNS_QUANTITY_SELECT_MOBILE,g.getQuantityClickCounterMobile())});e.on(k,function(){p(a.SNS_ONMLV2_DESKTOP_POPOVER_SHOW_METRICS)});
e.on(h,function(){p(a.SNS_ONMLV2_MOBILE_BOTTOMSHEET_SHOW_METRICS)});e.$(document).delegate("#sns-submit-declarative","click",function(d){d=g.getDeliveryOption();var e=b.isMobileDevice();d===c.DELIVERY_OPTION.SNS?e?p(a.SNS_ONMLV2_SUBSCRIBE_NOW_WITH_SNS_DELIVERY_MOBILE_METRICS):p(a.SNS_ONMLV2_SUBSCRIBE_NOW_WITH_SNS_DELIVERY_METRICS):d===c.DELIVERY_OPTION.ONML&&(e?p(a.SNS_ONMLV2_SUBSCRIBE_NOW_WITH_ONML_DELIVERY_MOBILE_METRICS):p(a.SNS_ONMLV2_SUBSCRIBE_NOW_WITH_ONML_DELIVERY_METRICS));b.emitMetric("defaultedWith"+
c.METRIC_DELIMITER+b.getDefaultDeliveryOption()+c.METRIC_DELIMITER+"signUpWith"+c.METRIC_DELIMITER+d);b.isSelectedFreqSameDefaultFreq()?b.emitMetric(a.SNS_ONMLV2_SUBSCRIBE_NOW_WITH_SAME_FREQ_AS_DEFAULT_FREQ):b.emitMetric(a.SNS_ONMLV2_SUBSCRIBE_NOW_WITH_DIFFERENT_FREQUENCY_OTHER_THAN_DEFAULT_FREQ)});e.$(document).delegate(d.SNS_ONMLV2_QUANTITY_TRIGGER_DESKTOP,"change",function(b){g.incrementQuantityClickCounterDesktop();m(a.SNS_QUANTITY_SELECT_DESKTOP,g.getQuantityClickCounterDesktop())});e.$(document).delegate(d.SNS_ONMLV2_QUANTITY_TRIGGER_MOBILE,
"change",function(b){g.incrementQuantityClickCounterMobile();m(a.SNS_QUANTITY_SELECT_MOBILE,g.getQuantityClickCounterMobile())});var p=function(a){l.ue&&l.ue.count(a,(ue.count(a)||0)+1)},m=function(a,b){l.ue&&l.ue.count(a,b)}});n.when("A","sns-onmlv2-utils","sns-buybox-constants").register("sns-onmlv2-cache",function(e,b,a){var d=e.$,c=0,g=0,f=0,k=0,h=0,p=0,m=0,l=0;return{getDeliveryOptionClickCounter:function(){return c},incrementDeliveryOptionClickCounter:function(){c++},getDeliveryOptionClickCounterMobile:function(){return g},
incrementDeliveryOptionClickCounterMobile:function(){g++},getDeliveryOptionSwitchToSnsCounter:function(){return f},incrementDeliveryOptionSwitchToSnsCounter:function(){f++},getDeliveryOptionSwitchToSnsCounterMobile:function(){return k},incrementDeliveryOptionSwitchToSnsCounterMobile:function(){k++},getDeliveryOptionSwitchToOnmlCounterMobile:function(){return p},incrementDeliveryOptionSwitchToOnmlCounterMobile:function(){p++},getDeliveryOptionSwitchToOnmlCounter:function(){return h},incrementDeliveryOptionSwitchToOnmlCounter:function(){h++},
getDeliveryOption:function(){return d(a.SNS_ONMLV2_DELIVERY_OPTION_FORM_FIELD).val()},getQuantityClickCounterDesktop:function(){return m},incrementQuantityClickCounterDesktop:function(a){m++},getQuantityClickCounterMobile:function(){return l},incrementQuantityClickCounterMobile:function(a){l++}}});n.when("A","ready").execute("sns-detail-page-impressions",function(e){function b(a){l.ue&&l.ue.count(a,(ue.count(a)||0)+1)}var a=e.$;e.on.load(function(){if(a("#snsAccordionRowMiddle").length)try{b("snsBuyBoxVisibleOnDetailPage"),
a("#sns-pill").length&&a("#sns-pill").text().trim()&&b("snsBuyBoxPillVisibleOnDetailPage"),a("#snsAccordionRowMiddle #a-popover-learnMorePopover").length&&a("#snsAccordionRowMiddle #a-popover-learnMorePopover").text().trim()&&b("snsBuyBoxLearnMoreVisibleOnDetailPage"),a("#sns-base-price").length&&a("#sns-base-price").text().trim()&&b("snsBuyBoxPriceVisibleOnDetailPage"),a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim()&&b("snsBuyBoxDeliveryUpsellVisibleOnDetailPage"),
a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("1 more")?b("snsBuyBoxDeliveryUpsell_2_MoreSubsToGo"):a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("2 more")?b("snsBuyBoxDeliveryUpsell_3_MoreSubsToGo"):a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("3 more")?b("snsBuyBoxDeliveryUpsell_4_MoreSubsToGo"):a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("Unlock extra savings")?
b("snsBuyBoxDeliveryUpsellAlmostTieredCustomer"):a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("You've unlocked extra savings")?b("snsBuyBoxDeliveryUpsellTieredCustomer"):a("#sns-delivery-buybox-upsell").length&&(a("#sns-delivery-buybox-upsell").text().trim().includes("No fees")||a("#sns-delivery-buybox-upsell").text().trim().includes("Cancel anytime"))&&b("snsBuyBoxDeliveryUpsellNewOrUnrecognizedCustomer"),a(".sns-delivery-link").length&&a(".sns-delivery-link").text().trim()&&
b("snsBuyBoxFRDDVisibleOnDetailPage"),a("#snsAccordionRowMiddle #availability").length&&a("#snsAccordionRowMiddle #availability").text().trim()&&a("#snsAccordionRowMiddle #availability").text().trim().includes("In Stock")&&b("snsBuyBoxAvailabilityInStockVisibleOnDetailPage"),a("#rcxOrdFreqSnsWrapper").length&&a("#rcxOrdFreqSnsWrapper").text().trim()&&b("snsBuyBoxFrequencySelectorVisibleOnDetailPage"),a("#rcx-subscribe-submit-button").length&&a("#rcx-subscribe-submit-button").text().trim()?b("snsBuyBoxSubscribeNowButtonVisibleOnDetailPage"):
b("snsBuyBoxSubscribeNowButtonNotVisibleOnDetailPage")}catch(d){b("snsBuyBoxImpressionMetricException")}else if(a("#snsAccordionRowMobileMiddle").length)try{b("snsBuyBoxVisibleOnDetailPageMobile"),a("#sns-pill").length&&a("#sns-pill").text().trim()&&b("snsBuyBoxPillVisibleOnDetailPageMobile"),a("#snsAccordionRowMobileMiddle #a-popover-learnMorePopover").length&&a("#snsAccordionRowMobileMiddle #a-popover-learnMorePopover").text().trim()&&b("snsBuyBoxLearnMoreVisibleOnDetailPageMobile"),a("#sns-base-price").length&&
a("#sns-base-price").text().trim()&&b("snsBuyBoxPriceVisibleOnDetailPageMobile"),a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim()&&b("snsBuyBoxDeliveryUpsellVisibleOnDetailPageMobile"),a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("1 more")?b("snsBuyBoxDeliveryUpsell_2_MoreSubsToGoMobile"):a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("2 more")?b("snsBuyBoxDeliveryUpsell_3_MoreSubsToGoMobile"):
a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("3 more")?b("snsBuyBoxDeliveryUpsell_4_MoreSubsToGoMobile"):a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("Unlock extra savings")?b("snsBuyBoxDeliveryUpsellAlmostTieredCustomerMobile"):a("#sns-delivery-buybox-upsell").length&&a("#sns-delivery-buybox-upsell").text().trim().includes("You've unlocked extra savings")?b("snsBuyBoxDeliveryUpsellTieredCustomerMobile"):
a("#sns-delivery-buybox-upsell").length&&(a("#sns-delivery-buybox-upsell").text().trim().includes("No fees")||a("#sns-delivery-buybox-upsell").text().trim().includes("Cancel anytime"))&&b("snsBuyBoxDeliveryUpsellNewOrUnrecognizedCustomerMobile"),a(".sns-delivery-link").length&&a(".sns-delivery-link").text().trim()&&b("snsBuyBoxFRDDVisibleOnDetailPageMobile"),a("#snsAccordionRowMobileMiddle #availability").length&&a("#snsAccordionRowMobileMiddle #availability").text().trim()&&a("#snsAccordionRowMobileMiddle #availability").text().trim().includes("In Stock")&&
b("snsBuyBoxAvailabilityInStockVisibleOnDetailPageMobile"),a("#rcxOrdFreqSnsWrapper").length&&a("#rcxOrdFreqSnsWrapper").text().trim()&&b("snsBuyBoxFrequencySelectorVisibleOnDetailPageMobile"),a("#rcx-subscribe-submit-button").length&&a("#rcx-subscribe-submit-button").text().trim()?b("snsBuyBoxSubscribeNowButtonVisibleOnDetailPageMobile"):b("snsBuyBoxSubscribeNowButtonNotVisibleOnDetailPageMobile")}catch(d){b("snsBuyBoxImpressionMetricExceptionMobile")}else b("snsBuyBoxNotVisibleOnDetailPage")})});
n.when("sns-atc","sns-frequency-bottom-sheet","sns-frequency-popover","sns-opt-in-checkbox","sns-event-handler","sns-metrics-helper","sns-price-refresh").execute("sns-execute",function(e,b,a,d,c,g,f){e.init();b.init();a.init();d.init();c.init();g.init();f.init()});n.when("moq-core").register("sns-moq-helper",function(e){return{isSnsLocked:e.isSnsLocked}});n.when("A","sns-buybox-constants","sns-onmlv2-utils").register("sns-dp-widget-utils",function(e,b,a){function d(a){for(var b=[];b.length<a;){var c=
Math.floor(Math.random()*a);-1===b.indexOf(c)&&b.push(c)}return b}var c=e.$,g=!1,f;return{getSnSRecommendations:function(){var e=a.getCurrencyCode();c.ajax({url:b.GET_MYD_RECOMMENDATIONS_URL,type:"GET",data:{currencyCode:e,shipId:"undef",sourcePage:b.SOURCE_PAGE},dataType:"json",success:function(a){f=d(20);c("#snsHighUpsellCartRecs").replaceWith(a.recommendationsDiv);for(a=0;3>a;a++)c("#recItem"+f[a]).removeClass("aok-hidden")},error:function(b){a.emitSsbMetrics("ssb-get-recs-ajax-error","snsHighUpsellCartRecs");
c("#snsHighUpsellCartRecs").remove()}})},createImage:function(a){return'\x3cimg id\x3d"hucATCProductImage" src\x3d"'+a+'" class\x3d"'+(e.capabilities.mobile?"huc-confirmation-image-mobile":"huc-confirmation-image")+'"/\x3e'},isSSBDataPresent:function(){return null!=a.getAStateFromDomWithoutJson(r,"sns-huc-data","currencyCode")},updateDeliveryOptionWidget:function(){g||(g=!0,c("#sns-only-delivery-option-text").html(c("#sns-only-delivery-option-text").html().replace(/%_month_%/g,"\x3cspan class \x3d'sns-only-month'\x3e\x3c/span\x3e")),
c("#sns-only-delivery-option-text").html(c("#sns-only-delivery-option-text").html().replace(/%_day_%/g,"\x3cspan class \x3d'sns-only-day'\x3e\x3c/span\x3e")),c("#sns-only-delivery-option-text").html(c("#sns-only-delivery-option-text").html().replace(/%_upsell_information_%/g,"\x3cspan class \x3d'sns-upsell-message'\x3e\x3c/span\x3e")),c("#onml-later-delivery-option-text").html(c("#onml-later-delivery-option-text").html().replace(/%_frequency_%/g,"\x3cspan class \x3d'sns-frequency'\x3e\x3c/span\x3e")),
c("#onml-later-delivery-option-text").html(c("#onml-later-delivery-option-text").html().replace(/%_date-more-later_%/g,"\x3cspan class \x3d'sns-ml-date'\x3e\x3c/span\x3e")));var b=a.getDeliveryInfoParam(),d=a.getSnsFrequencyParam(),e=a.getOnmlFrequencyParam(),f=b.snsDates[c("[name\x3drcxOrdFreqSns]").prop("selectedIndex")].split(" "),l=f[0],f=f[1],d=d[c("[name\x3drcxOrdFreqSns]").prop("selectedIndex")].upsellInformation.message,b=b.onmlDates[c("[name\x3drcxOrdFreqOnml]").prop("selectedIndex")],e=
e[c("[name\x3drcxOrdFreqSns]").prop("selectedIndex")].label.split(" "),e=e[0]+" "+e[1];c(".sns-ml-date").html(b);c(".sns-frequency").html(e);c(".sns-only-month").html(l);c(".sns-only-day").html(f);c(".sns-upsell-message").html(d)},isDeliveryOptionEnabled:function(){return!1},getRandomizeRecList:function(){return 0!==f.length?f:d(20)},disableButton:function(a){n.when("a-button").execute(function(b){b("#"+a).disable()})},enableButton:function(a){n.when("a-button").execute(function(b){b("#"+a).enable()})},
SUBSCRIBE_ADD_TO_CART_FORM_ATTRIBUTES:{name:"sns-onmlv2-add-to-cart",id:"sns-onmlv2-add-to-cart",method:"POST",action:"/gp/subscribe-and-save/atc/sns-atc.html"},SUBSCRIBE_FORM_ATTRIBUTES:{name:"sns-onmlv2-subscribe",id:"sns-onmlv2-subscribe",method:"POST",action:"/gp/subscribe-and-save/atc/sns-atc.html"}}});n.when("A","sns-buybox-constants","sns-onmlv2-utils","sns-dp-widget-utils").register("sns-high-upsell-cart-widget",function(e,b,a,d){function c(c){var e,l;e=g("\x3cform\x3e",{method:d.SUBSCRIBE_FORM_ATTRIBUTES.method,
action:d.SUBSCRIBE_FORM_ATTRIBUTES.action,id:d.SUBSCRIBE_FORM_ATTRIBUTES.id,name:d.SUBSCRIBE_FORM_ATTRIBUTES.name});l=d.SUBSCRIBE_FORM_ATTRIBUTES.id;var n="";c="#hucRecFields"+c;var r=g(c+" [name\x3d'snsRecsMcf']").val()+b.SNS_ONML_MONTH,n=n+a.createHiddenInput("snsAsin",g(c+" [name\x3d'snsRecsAsin']").val()),n=n+a.createHiddenInput("rcxOrdFreqOnml",r),n=n+a.createHiddenInput("onmlSelected","true"),n=n+a.createHiddenInput("vmfEnabled","true"),n=n+a.createHiddenInput("quantity","1"),n=n+a.createHiddenInput("ref",
"sns-subscribe-btn-dp-vmf-onml"),n=n+a.createHiddenInput("submit.subscribe","1"),n=n+a.createHiddenInput("merchantId",g(c+" [name\x3d'snsRecsMerchantID']").val()),n=n+a.createHiddenInput("offerListingID",g(c+" [name\x3d'snsRecsOfferListingID']").val()),n=n+a.createHiddenInput("hucWidgetEnabled","1");e.html(n);g("body").append(e);e=g("#"+l).serialize();g.ajax({url:d.SUBSCRIBE_FORM_ATTRIBUTES.action,type:d.SUBSCRIBE_FORM_ATTRIBUTES.method,data:e,success:function(a){a=d.getRandomizeRecList();g("#hucATCProductImage").replaceWith(d.createImage(h));
g("#"+k).addClass("aok-hidden");g("#recItem"+a[f]).insertAfter("#"+k);g("#recItem"+a[f]).removeClass("aok-hidden");f++},error:function(){a.emitSsbMetrics("ssb-rec-atc-ajax-error","sns-huc-add-to-cart")}});g("#"+l).remove()}var g=e.$,f=3,k,h;e.declarative("sns-huc-add-to-cart","click",function(b){a.emitSsbMetrics(e.capabilities.mobile?"ssb_recs_atc_mobile":"ssb_recs_atc_desktop","sns-huc-add-to-cart");k=b.data.recId;var f=b.data.recIndex;h=b.data.productImageURL;d.disableButton((e.capabilities.mobile?
"recs-atc-mobile":"recs-atc-desktop")+f);c(f)});e.declarative("sns-huc-go-to-cart","click",function(c){a.emitSsbMetrics(e.capabilities.mobile?"ssb_go_to_cart_mobile":"ssb_go_to_cart_desktop","sns-huc-go-to-cart");l.location.href=b.VIEW_CART_URL});e.declarative("sns-huc-go-to-checkout","click",function(c){a.emitSsbMetrics(e.capabilities.mobile?"ssb_go_to_checkout_mobile":"ssb_go_to_checkout_desktop","sns-huc-go-to-checkout");l.location.href=b.GO_TO_CHECKOUT_URL})});n.when("A","a-dropdown","sns-vmf-utils",
"sns-onmlv2-utils","sns-metrics-constants","ready").execute("b2b-onmlv2-frequency-update",function(e,b,a,d,c){function g(a){l.ue&&l.ue.count(a,(ue.count(a)||0)+1)}var f=e.$;f("#rcxOrdFreq").change(function(){if(f("#b2brd").length&&!0===d.getIsRDProgramWinner()&&"rcxOrdFreqOnml"===f("#rcxOrdFreq").attr("name")!==!1){var a;a=!0===d.getIsCustomerPrimeMap()?d.getOnmlFrequencyParamForB2B():d.getSnsFrequencyParamForB2B();var b=f("[name\x3drcxOrdFreqOnml]").prop("selectedIndex"),e=f("[name\x3drcxOrdFreqOnml]")[0].options[b].value;
f('[name\x3d"rcxOrdFreqOnml"]').val(e);a=a[b];f(".b2brd-delivery-buybox-upsell-message").html(a.upsellInformation.message);f(".b2brd-delivery-buybox-upsell-additional-message-title").html(a.upsellInformation.additionalMessageTitle);f(".b2brd-delivery-buybox-upsell-additional-message").html(a.upsellInformation.additionalMessage);0===a.highlightedDiscount?(f("#rd-base-price").removeClass("aok-hidden"),f("#rd-tiered-price").addClass("aok-hidden")):(f("#rd-base-price").addClass("aok-hidden"),f("#rd-tiered-price").removeClass("aok-hidden"));
a=f("[name\x3drcxOrdFreqOnml]").val();g(c.B2B_BUY_BOX_MESSAGE_UPDATE_SUCCESSFUL);0<a.search("W")?g(c.B2B_ONML_WEEKLY_FREQUENCY_SELECT_METRICS):g(c.B2B_ONML_MONTHLY_FREQUENCY_SELECT_METRICS)}}).error(function(){g(c.B2B_BUY_BOX_MESSAGE_UPDATE_FAILED)})});n.when("A","sns-onmlv2-utils","sns-vmf-utils","sns-upsell-message-trigger-handler").register("sns-annual-savings",function(e,b,a,d){function c(a){l.ue&&l.ue.count(a,(ue.count(a)||0)+1)}return{checkPreConditionsAndUpdateAnnualSavings:function(g){var f=
e.$("#sns-annual-savings");if("undefined"===typeof g||null===g)c("snsFrequencyValueAbsent"),f.addClass("aok-hidden");else{var k=b.getAnnualSavingsParamMap(),h=b.getAnnualSavingsWeblabTreatment(),l=a.getQuantityIndex();if("undefined"===typeof k||0===Object.keys(k).length)c("snsAnnualSavingsMapIsNotPresent"),f.addClass("aok-hidden");else if("undefined"===typeof l||null===l)c("snsQuantityIndexAbsent"),f.addClass("aok-hidden");else if("undefined"===typeof h)c("snsAnnualSavingsWeblabTreatmentAbsent"),
f.addClass("aok-hidden");else{var m;k.hasOwnProperty(g)&&k[g][l]!==r&&(m=k[g][l]);g=m;f=e.$("#sns-annual-savings");"undefined"!==typeof g?(d.handleAnnualSavingsExperimentTriggering(g,h),"T1"===h&&(h=null!==g&&0!==g.length,e.$("#sns-annual-savings-value").text(g),f.toggleClass("aok-hidden",!h),h&&c("snsAnnualSavingsShown"))):(c("snsAnnualSavingsValueAbsent"),f.addClass("aok-hidden"))}}}}});n.when("A","a-dropdown","sns-vmf-utils","sns-annual-savings","ready").execute("sns-quantity-update",function(e,
b,a,d){var c=e.$;e.on("a:dropdown:rcxsubsQuan:select",function(b){b=c("#rcxOrdFreqOnmlWrapper").hasClass("aok-hidden")?c("[name\x3drcxOrdFreqSns]").val():c("[name\x3drcxOrdFreqOnml]").val();b=a.getFrequencyValueExcludingDeliveryType(b);d.checkPreConditionsAndUpdateAnnualSavings(b)})});n.when("A","sns-onmlv2-utils","sns-upsell-message-trigger-handler","ready").execute("sns-annual-savings-trigger",function(e,b,a){e=b.getDefaultSavingsValue();b=b.getAnnualSavingsWeblabTreatment();a.handleAnnualSavingsExperimentTriggering(e,
b)});n.when("A","sns-onmlv2-utils","ready").execute("sns-udm-delivery-block-styling",function(e,b){function a(){try{var a=d("div[id^\x3d'snsAccordionRow'] div#mir-layout-DELIVERY_BLOCK");a&&a.each(function(){var a=d(this).find("div:last");a&&a.removeClass(function(a,b){return(b.match(/(^|\s)a-spacing-\S+/g)||[]).join(" ")}).addClass("a-spacing-none")})}catch(e){b.emitMetric("snsUdmDeliveryBlockSpacingAdjustmentFailed"),b.logErrorWithAttribution("sns-delivery-block-apply-styling","Error occurred while applying delivery block styling "+
e)}}var d=e.$;a();e.on("a:pageUpdate",function(b){a()})});"use strict";n.when("A","sns-onmlv2-utils","sns-constants").register("sns-improved-dropdown-trigger-handler",function(e,b,a){function d(a){var d=c("#snsQuantity_feature_div #selectQuantity"),e=c("#rcxOrdFreqSnsWrapper"),h=c("#rcxOrdFreqOnmlWrapper");"C"!==a||d||e||h?"T1"!==a||!d||e||h?"T2"===a&&d&&e&&h?b.emitMetric("improvedDropdownExperiment.successfulTreatmentTwoAllocationMetric"):b.emitMetric("improvedDropdownExperiment.weblabAllocationError"):
b.emitMetric("improvedDropdownExperiment.successfulTreatmentOneAllocationMetric"):b.emitMetric("improvedDropdownExperiment.successfulControlAllocationMetric")}function c(a){a=e.$(a);if(a!==r&&null!==a){if(1===a.length)return a[0].classList.contains("improvedSnSOfferDisplayDropdown");b.emitMetric("improvedDropdownExperiment.snsMultipleDropdownComponents");return!1}b.emitMetric("improvedDropdownExperiment.snsMissingDropdownComponents");return!1}return{handleImprovedDropdownExperimentTriggering:function(c){var f=
!1;try{!f&&b.isSnSAccordionActiveForDeviceType(a.DEVICE_TYPE.DESKTOP)?(b.recordWeblabTriggers("CONSUMABLES_DP_SNS_IMPROVED_QTY_AND_FREQ_DROPDOWN_1013907",c),f=!0,b.emitMetric("improvedDropdownExperiment.weblabTriggeringSuccess"),d(c)):f?b.emitMetric("improvedDropdownExperiment.weblabAlreadyTriggeredOnce"):b.emitMetric("improvedDropdownExperiment.snsDesktopAccordionNotActive")}catch(k){b.emitMetric("improvedDropdownExperiment.weblabTriggeringFailure")}e.on("a:accordion:buybox-accordion:select",function(e){try{!f&&
b.isSnSSelectedAccordionForDeviceType(e,a.DEVICE_TYPE.DESKTOP)?(b.recordWeblabTriggers("CONSUMABLES_DP_SNS_IMPROVED_QTY_AND_FREQ_DROPDOWN_1013907",c),f=!0,b.emitMetric("improvedDropdownExperiment.weblabTriggeringSuccess"),d(c)):f?b.emitMetric("improvedDropdownExperiment.weblabAlreadyTriggeredOnce"):b.emitMetric("improvedDropdownExperiment.snsDesktopAccordionNotSelected")}catch(h){b.emitMetric("improvedDropdownExperiment.weblabTriggeringFailure")}})}}});"use strict";n.when("A","sns-improved-dropdown-trigger-handler",
"sns-constants","ready").execute("sns-dropdown",function(e,b,a){b.handleImprovedDropdownExperimentTriggering(a.WEBLAB_TREATMENT.T1)})});